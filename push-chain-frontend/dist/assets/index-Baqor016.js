import{B as I,W as G,X as Ne,Y as Ts,Z as Ut,$ as H,a0 as Pe,a1 as Lt,a2 as qi,a3 as Be,a4 as z,a5 as ie,a6 as Ue,a7 as ze,a8 as Hi,a9 as Vi,aa as Pn,ab as Te,ac as ks,ad as Z,ae as yt,af as se,ag as Rs,ah as me,ai as Zi,aj as dt,ak as Wi,al as Yi,am as Tr,_ as Cs,an as Ki,V as Le,ao as Ji,ap as Fs,aq as Os,ar as kr,k as Xi,as as Qi,at as ea,au as ta,av as na,aw as ra,ax as sa,w as Rr,ay as oa,az as Cr,aA as zs,aB as ia}from"./index-C1wngyGl.js";import{aI as Tl,aH as kl,aJ as Rl,aK as Cl,aL as Fl,aE as Ol,aM as zl,aN as _l,aO as Ml,aP as Ul,aQ as Ll,aR as jl,aS as Dl,aT as Gl,aU as ql,aV as Hl,aW as Vl,aX as Zl,aD as Wl,aF as Yl,aY as Kl,aG as Jl,T as Xl,aZ as Ql,a_ as e1,a$ as t1,b0 as n1,b1 as r1,b2 as s1,b3 as o1,U as i1,b6 as a1,c as c1,aC as u1,f as f1,g as d1,S as l1,b7 as b1,b4 as h1,b5 as p1,b8 as m1}from"./index-C1wngyGl.js";import{a0 as _e,a1 as Bn,a2 as kt,a3 as An,a4 as Fr,a5 as Or,a6 as zr,a7 as _r,a8 as Mr,a9 as Ur,aa as Lr,ab as jr,ac as $n,ad as jt,ae as Ft,af as Dr,ag as _s,ah as Gr,ai as aa,aj as Ms,ak as qr}from"./core-Cq0IuG5c.js";import{an as g1,al as w1,am as v1}from"./core-Cq0IuG5c.js";function ae(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new va(e.type);return`${e.name}(${Dt(e.inputs,{includeName:t})})`}function Dt(e,{includeName:t=!1}={}){return e?e.map(n=>ca(n,{includeName:t})).join(t?", ":","):""}function ca(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Dt(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class ua extends I{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Hr extends I{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Us extends I{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Dt(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class gt extends I{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class fa extends I{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class da extends I{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${G(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class la extends I{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class ba extends I{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Vr extends I{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Ls extends I{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class ha extends I{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class js extends I{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Zr extends I{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class nt extends I{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Ds extends I{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class pa extends I{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class ma extends I{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${ae(t.abiItem)}\`, and`,`\`${n.type}\` in \`${ae(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let ya=class extends I{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class lt extends I{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Dt(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Gt extends I{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ae(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class ga extends I{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class wa extends I{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Gs=class extends I{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class va extends I{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}let Wr=class extends I{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},qs=class extends I{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},xa=class extends I{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Ea={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new xa({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new qs({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Wr({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Wr({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Yn(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Ea);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function rt(e,t,n,{strict:r}={}){return Ne(e,{strict:!1})?Pa(e,t,n,{strict:r}):Zs(e,t,n,{strict:r})}function Hs(e,t){if(typeof t=="number"&&t>0&&t>G(e)-1)throw new Ts({offset:t,position:"start",size:G(e)})}function Vs(e,t,n){if(typeof t=="number"&&typeof n=="number"&&G(e)!==n-t)throw new Ts({offset:n,position:"end",size:G(e)})}function Zs(e,t,n,{strict:r}={}){Hs(e,t);const s=e.slice(t,n);return r&&Vs(s,t,n),s}function Pa(e,t,n,{strict:r}={}){Hs(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Vs(s,t,n),s}function Ba(e,t={}){typeof t.size<"u"&&Ut(e,{size:t.size});const n=H(e,t);return Be(n,t)}function Aa(e,t={}){let n=e;if(typeof t.size<"u"&&(Ut(n,{size:t.size}),n=Lt(n)),n.length>1||n[0]>1)throw new qi(n);return!!n[0]}function xe(e,t={}){typeof t.size<"u"&&Ut(e,{size:t.size});const n=H(e,t);return Pe(n,t)}function $a(e,t={}){let n=e;return typeof t.size<"u"&&(Ut(n,{size:t.size}),n=Lt(n,{dir:"right"})),new TextDecoder().decode(n)}function ce(e){return typeof e[0]=="string"?ot(e):Ia(e)}function Ia(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function ot(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const Sa=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ws=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Re(e,t){if(e.length!==t.length)throw new la({expectedLength:e.length,givenLength:t.length});const n=Na({params:e,values:t}),r=Jn(n);return r.length===0?"0x":r}function Na({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Kn({param:e[r],value:t[r]}));return n}function Kn({param:e,value:t}){const n=Xn(e.type);if(n){const[r,s]=n;return ka(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return za(t,{param:e});if(e.type==="address")return Ta(t);if(e.type==="bool")return Ca(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Ws.exec(e.type)??[];return Fa(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return Ra(t,{param:e});if(e.type==="string")return Oa(t);throw new ga(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Jn(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=G(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(z(t+s,{size:32})),r.push(a),s+=G(a)):n.push(a)}return ce([...n,...r])}function Ta(e){if(!ie(e))throw new Ue({address:e});return{dynamic:!1,encoded:ze(e.toLowerCase())}}function ka(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Gs(e);if(!r&&e.length!==t)throw new fa({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=Kn({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=Jn(o);if(r){const a=z(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?ce([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:ce(o.map(({encoded:i})=>i))}}function Ra(e,{param:t}){const[,n]=t.type.split("bytes"),r=G(e);if(!n){let s=e;return r%32!==0&&(s=ze(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:ce([ze(z(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new da({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:ze(e,{dir:"right"})}}function Ca(e){if(typeof e!="boolean")throw new I(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ze(Hi(e))}}function Fa(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Vi({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:z(e,{size:32,signed:t})}}function Oa(e){const t=Pn(e),n=Math.ceil(G(t)/32),r=[];for(let s=0;s<n;s++)r.push(ze(rt(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ce([ze(z(G(t),{size:32})),...r])}}function za(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=Kn({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Jn(r):ce(r.map(({encoded:s})=>s))}}function Xn(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function wt(e,t){const n=typeof t=="string"?Te(t):t,r=Yn(n);if(G(n)===0&&e.length>0)throw new gt;if(G(t)&&G(t)<32)throw new Us({data:typeof t=="string"?t:H(t),params:e,size:G(t)});let s=0;const o=[];for(let i=0;i<e.length;++i){const a=e[i];r.setPosition(s);const[c,u]=Qe(r,a,{staticPosition:0});s+=u,o.push(c)}return o}function Qe(e,t,{staticPosition:n}){const r=Xn(t.type);if(r){const[s,o]=r;return Ma(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return Da(e,t,{staticPosition:n});if(t.type==="address")return _a(e);if(t.type==="bool")return Ua(e);if(t.type.startsWith("bytes"))return La(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return ja(e,t);if(t.type==="string")return Ga(e,{staticPosition:n});throw new wa(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Yr=32,In=32;function _a(e){const t=e.readBytes(32);return[ks(H(Zs(t,-20))),32]}function Ma(e,t,{length:n,staticPosition:r}){if(!n){const i=xe(e.readBytes(In)),a=r+i,c=a+Yr;e.setPosition(a);const u=xe(e.readBytes(Yr)),f=bt(t);let d=0;const l=[];for(let b=0;b<u;++b){e.setPosition(c+(f?b*32:d));const[m,h]=Qe(e,t,{staticPosition:c});d+=h,l.push(m)}return e.setPosition(r+32),[l,32]}if(bt(t)){const i=xe(e.readBytes(In)),a=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=Qe(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let i=0;i<n;++i){const[a,c]=Qe(e,t,{staticPosition:r+s});s+=c,o.push(a)}return[o,s]}function Ua(e){return[Aa(e.readBytes(32),{size:32}),32]}function La(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=xe(e.readBytes(32));e.setPosition(n+i);const a=xe(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[H(c),32]}return[H(e.readBytes(Number.parseInt(s,10),32)),32]}function ja(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Ba(s,{signed:n}):xe(s,{signed:n}),32]}function Da(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(bt(t)){const i=xe(e.readBytes(In)),a=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+o);const[f,d]=Qe(e,u,{staticPosition:a});o+=d,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const a=t.components[i],[c,u]=Qe(e,a,{staticPosition:n});s[r?i:a?.name]=c,o+=u}return[s,o]}function Ga(e,{staticPosition:t}){const n=xe(e.readBytes(32)),r=t+n;e.setPosition(r);const s=xe(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=$a(Lt(o));return e.setPosition(t+32),[i,32]}function bt(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(bt);const n=Xn(e.type);return!!(n&&bt({...e,type:n[1]}))}const qa=e=>Z(yt(e));function Ha(e){return qa(e)}const Va="1.1.0";let Q=class Sn extends Error{constructor(t,n={}){const r=n.cause instanceof Sn?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Sn&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Va}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Ie(e,t){return e.exec(t)?.groups}const Ys=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ks=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Js=/^\(.+?\).*?$/,Kr=/^tuple(?<array>(\[(\d*)\])*)$/;function Nn(e){let t=e.type;if(Kr.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Nn(o),s<n-1&&(t+=", ")}const r=Ie(Kr,e.type);return t+=`)${r?.array??""}`,Nn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Ke(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Nn(s),r!==n-1&&(t+=", ")}return t}function Ot(e){return e.type==="function"?`function ${e.name}(${Ke(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Ke(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Ke(e.inputs)})`:e.type==="error"?`error ${e.name}(${Ke(e.inputs)})`:e.type==="constructor"?`constructor(${Ke(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Xs=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Za(e){return Xs.test(e)}function Wa(e){return Ie(Xs,e)}const Qs=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Ya(e){return Qs.test(e)}function Ka(e){return Ie(Qs,e)}const eo=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Ja(e){return eo.test(e)}function Xa(e){return Ie(eo,e)}const to=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function qt(e){return to.test(e)}function Qa(e){return Ie(to,e)}const no=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function ec(e){return no.test(e)}function tc(e){return Ie(no,e)}const ro=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function nc(e){return ro.test(e)}function rc(e){return Ie(ro,e)}const sc=/^receive\(\) external payable$/;function oc(e){return sc.test(e)}const Jr=new Set(["memory","indexed","storage","calldata"]),ic=new Set(["indexed"]),Tn=new Set(["calldata","memory","storage"]);class ac extends Q{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class cc extends Q{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class uc extends Q{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class fc extends Q{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class dc extends Q{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class lc extends Q{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class bc extends Q{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class hc extends Q{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class pc extends Q{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class it extends Q{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class mc extends Q{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class yc extends Q{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class gc extends Q{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class wc extends Q{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function vc(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const an=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function kn(e,t={}){if(Ja(e))return xc(e,t);if(Ya(e))return Ec(e,t);if(Za(e))return Pc(e,t);if(ec(e))return Bc(e,t);if(nc(e))return Ac(e);if(oc(e))return{type:"receive",stateMutability:"payable"};throw new mc({signature:e})}function xc(e,t={}){const n=Xa(e);if(!n)throw new it({signature:e,type:"function"});const r=ee(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Ae(r[a],{modifiers:Tn,structs:t,type:"function"}));const i=[];if(n.returns){const a=ee(n.returns),c=a.length;for(let u=0;u<c;u++)i.push(Ae(a[u],{modifiers:Tn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function Ec(e,t={}){const n=Ka(e);if(!n)throw new it({signature:e,type:"event"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ae(r[i],{modifiers:ic,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Pc(e,t={}){const n=Wa(e);if(!n)throw new it({signature:e,type:"error"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ae(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Bc(e,t={}){const n=tc(e);if(!n)throw new it({signature:e,type:"constructor"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Ae(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Ac(e){const t=rc(e);if(!t)throw new it({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const $c=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Ic=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Sc=/^u?int$/;function Ae(e,t){const n=vc(e,t?.type,t?.structs);if(an.has(n))return an.get(n);const r=Js.test(e),s=Ie(r?Ic:$c,e);if(!s)throw new dc({param:e});if(s.name&&Tc(s.name))throw new lc({param:e,name:s.name});const o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const d=ee(s.type),l=[],b=d.length;for(let m=0;m<b;m++)l.push(Ae(d[m],{structs:a}));u={components:l}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Sc.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!so(c))throw new uc({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new bc({param:e,type:t?.type,modifier:s.modifier});if(Tn.has(s.modifier)&&!kc(c,!!s.array))throw new hc({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...i,...u};return an.set(n,f),f}function ee(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const i=e[o],a=e.slice(o+1);switch(i){case",":return r===0?ee(a,[...t,n.trim()]):ee(a,t,`${n}${i}`,r);case"(":return ee(a,t,`${n}${i}`,r+1);case")":return ee(a,t,`${n}${i}`,r-1);default:return ee(a,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new wc({current:n,depth:r});return t.push(n.trim()),t}function so(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Ys.test(e)||Ks.test(e)}const Nc=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Tc(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Ys.test(e)||Ks.test(e)||Nc.test(e)}function kc(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Qn(e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];if(!qt(a))continue;const c=Qa(a);if(!c)throw new it({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const m=u[l].trim();if(!m)continue;const h=Ae(m,{type:"struct"});f.push(h)}if(!f.length)throw new yc({signature:a});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[a,c]=s[i];r[a]=oo(c,t)}return r}const Rc=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function oo(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const i=e[o];if(Js.test(i.type))r.push(i);else{const c=Ie(Rc,i.type);if(!c?.type)throw new pc({abiParameter:i});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new gc({type:f});r.push({...i,type:`tuple${u??""}`,components:oo(t[f]??[],t,new Set([...n,f]))})}else if(so(f))r.push(i);else throw new cc({type:f})}}return r}function io(e){const t=Qn(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];qt(o)||n.push(kn(o,t))}return n}function Xr(e){let t;if(typeof e=="string")t=kn(e);else{const n=Qn(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!qt(o)){t=kn(o,n);break}}}if(!t)throw new ac({signature:e});return t}function Qr(e){const t=[];if(typeof e=="string"){const n=ee(e),r=n.length;for(let s=0;s<r;s++)t.push(Ae(n[s],{modifiers:Jr}))}else{const n=Qn(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(qt(o))continue;const i=ee(o),a=i.length;for(let c=0;c<a;c++)t.push(Ae(i[c],{modifiers:Jr,structs:n}))}}if(t.length===0)throw new fc({params:e});return t}function Cc(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new I("Unable to normalize signature.");return s}const Fc=e=>{const t=typeof e=="string"?e:Ot(e);return Cc(t)};function ao(e){return Ha(Fc(e))}const Ht=ao,vt=e=>rt(ao(e),0,4);function qe(e){const{abi:t,args:n=[],name:r}=e,s=Ne(r,{strict:!1}),o=t.filter(a=>s?a.type==="function"?vt(a)===r:a.type==="event"?Ht(a)===r:!1:"name"in a&&a.name===r);if(o.length===0)return;if(o.length===1)return o[0];let i;for(const a of o){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?Rn(u,d):!1})){if(i&&"inputs"in i&&i.inputs){const u=co(a.inputs,i.inputs,n);if(u)throw new ma({abiItem:a,type:u[0]},{abiItem:i,type:u[1]})}i=a}}return i||o[0]}function Rn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ie(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Rn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Rn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function co(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return co(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?ie(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?ie(n[r],{strict:!1}):!1)return i}}const cn="/docs/contract/decodeFunctionResult";function He(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const a=qe({abi:t,args:n,name:r});if(!a)throw new nt(r,{docsPath:cn});o=a}if(o.type!=="function")throw new nt(void 0,{docsPath:cn});if(!o.outputs)throw new Ds(o.name,{docsPath:cn});const i=wt(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const es="/docs/contract/encodeFunctionData";function Oc(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=qe({abi:t,args:n,name:r});if(!o)throw new nt(r,{docsPath:es});s=o}if(s.type!=="function")throw new nt(void 0,{docsPath:es});return{abi:[s],functionName:vt(ae(s))}}function le(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:Oc(e),s=n[0],o=r,i="inputs"in s&&s.inputs?Re(s.inputs,t??[]):void 0;return ot([o,i??"0x"])}class Cn extends I{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class uo extends I{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}function at({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Cn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Cn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const zc={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},fo={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},_c={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function lo(e){const{abi:t,data:n}=e,r=rt(n,0,4);if(r==="0x")throw new gt;const o=[...t||[],fo,_c].find(i=>i.type==="error"&&r===vt(ae(i)));if(!o)throw new Ls(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?wt(o.inputs,rt(n,4)):void 0,errorName:o.name}}function bo({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?se(t[o]):t[o]}`).join(", ")})`}class Mc extends I{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Uc extends I{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ts(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Lc(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ts(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ts(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Vt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class jc extends I{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Dc extends I{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Vt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class ho extends I{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}}class po extends I{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Gc extends I{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class qc extends I{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class mo extends I{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:b}){const m=n?me(n):void 0;let h=Vt({from:m?.address,to:d,value:typeof l<"u"&&`${Rs(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${_e(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${_e(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${_e(u)} gwei`,nonce:f});b&&(h+=`
${Lc(b)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class yo extends I{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=qe({abi:n,args:r,name:i}),u=c?bo({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?ae(c,{includeName:!0}):void 0,d=Vt({address:s&&Zi(s),function:f,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Fn extends I{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a,c;if(n&&n!=="0x")try{i=lo({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=i;if(d==="Error")c=l[0];else if(d==="Panic"){const[b]=l;c=zc[b]}else{const b=f?ae(f,{includeName:!0}):void 0,m=f&&l?bo({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[b?`Error: ${b}`:"",m&&m!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof Ls&&(u=o.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}}class Hc extends I{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Vc extends I{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Zt extends I{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function er(e){if(!(e instanceof I))return!1;const t=e.walk(n=>n instanceof Fn);return t instanceof Fn?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function Zc(e){const{abi:t,data:n}=e,r=rt(n,0,4),s=t.find(o=>o.type==="function"&&r===vt(ae(o)));if(!s)throw new pa(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?wt(s.inputs,rt(n,4)):void 0}}const un="/docs/contract/encodeErrorResult";function ns(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=qe({abi:t,args:r,name:n});if(!c)throw new Vr(n,{docsPath:un});s=c}if(s.type!=="error")throw new Vr(void 0,{docsPath:un});const o=ae(s),i=vt(o);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new ba(s.name,{docsPath:un});a=Re(s.inputs,r)}return ot([i,a])}const fn="/docs/contract/encodeFunctionResult";function Wc(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=qe({abi:t,name:n});if(!i)throw new nt(n,{docsPath:fn});s=i}if(s.type!=="function")throw new nt(void 0,{docsPath:fn});if(!s.outputs)throw new Ds(s.name,{docsPath:fn});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Gs(r)})();return Re(s.outputs,o)}const xt="x-batch-gateway:true";async function go(e){const{data:t,ccipRequest:n}=e,{args:[r]}=Zc({abi:Bn,data:t}),s=[],o=[];return await Promise.all(r.map(async(i,a)=>{try{o[a]=i.urls.includes(xt)?await go({data:i.data,ccipRequest:n}):await n(i),s[a]=!1}catch(c){s[a]=!0,o[a]=Yc(c)}})),Wc({abi:Bn,functionName:"query",result:[s,o]})}function Yc(e){return e.name==="HttpRequestError"&&e.status?ns({abi:Bn,errorName:"HttpError",args:[e.status,e.shortMessage]}):ns({abi:[fo],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function wo(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ne(t)?t:null}function On(e){let t=new Uint8Array(32).fill(0);if(!e)return H(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=wo(n[r]),o=s?yt(s):Z(dt(n[r]),"bytes");t=Z(ce([t,o]),"bytes")}return H(t)}function Kc(e){return`[${e.slice(2)}]`}function Jc(e){const t=new Uint8Array(32).fill(0);return e?wo(e)||Z(dt(e)):H(t)}function tr(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(dt(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=dt(s[o]);i.byteLength>255&&(i=dt(Kc(Jc(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function _(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const Xc=3;function st(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const a=e instanceof Zt?e:e instanceof I?e.walk(m=>"data"in m)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,b=e instanceof gt?new Hc({functionName:o}):[Xc,Wi.code].includes(c)&&(u||f||d||l)?new Fn({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:a instanceof Yi?f:l??d}):e;return new yo(b,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nr=BigInt(0),zn=BigInt(1);function Et(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function rr(e){if(!Et(e))throw new Error("Uint8Array expected")}function ht(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Rt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function vo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?nr:BigInt("0x"+e)}const xo=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Qc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function pt(e){if(rr(e),xo)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Qc[e[n]];return t}const ye={_0:48,_9:57,A:65,F:70,a:97,f:102};function rs(e){if(e>=ye._0&&e<=ye._9)return e-ye._0;if(e>=ye.A&&e<=ye.F)return e-(ye.A-10);if(e>=ye.a&&e<=ye.f)return e-(ye.a-10)}function zt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(xo)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=rs(e.charCodeAt(o)),a=rs(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function Me(e){return vo(pt(e))}function Eo(e){return rr(e),vo(pt(Uint8Array.from(e).reverse()))}function Pt(e,t){return zt(e.toString(16).padStart(t*2,"0"))}function Po(e,t){return Pt(e,t).reverse()}function re(e,t,n){let r;if(typeof t=="string")try{r=zt(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Et(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function _t(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];rr(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const dn=e=>typeof e=="bigint"&&nr<=e;function sr(e,t,n){return dn(e)&&dn(t)&&dn(n)&&t<=e&&e<n}function et(e,t,n,r){if(!sr(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function e0(e){let t;for(t=0;e>nr;e>>=zn,t+=1);return t}const Wt=e=>(zn<<BigInt(e))-zn,ln=e=>new Uint8Array(e),ss=e=>Uint8Array.from(e);function t0(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=ln(e),s=ln(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...d)=>n(s,r,...d),c=(d=ln(0))=>{s=a(ss([0]),d),r=a(),d.length!==0&&(s=a(ss([1]),d),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const b=r.slice();l.push(b),d+=r.length}return _t(...l)};return(d,l)=>{i(),c(d);let b;for(;!(b=l(u()));)c();return i(),b}}const n0={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Et(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Yt(e,t,n={}){const r=(s,o,i)=>{const a=n0[o];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function os(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const r0="0.1.1";function s0(){return r0}class U extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof U){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof U&&n.cause.docsPath||n.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${s0()}`}),this.cause=n.cause,this.details=r,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return Bo(this,t)}}function Bo(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Bo(e.cause,t):t?null:e}function Bt(e,t){if(Je(e)>t)throw new x0({givenSize:Je(e),maxSize:t})}const ge={zero:48,nine:57,A:65,F:70,a:97,f:102};function is(e){if(e>=ge.zero&&e<=ge.nine)return e-ge.zero;if(e>=ge.A&&e<=ge.F)return e-(ge.A-10);if(e>=ge.a&&e<=ge.f)return e-(ge.a-10)}function o0(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new E0({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const i=n==="right";s[i?o:r-o-1]=e[i?o:e.length-o-1]}return s}function Ao(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Kt(e,t){if(te(e)>t)throw new S0({givenSize:te(e),maxSize:t})}function i0(e,t){if(typeof t=="number"&&t>0&&t>te(e)-1)throw new Fo({offset:t,position:"start",size:te(e)})}function a0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&te(e)!==n-t)throw new Fo({offset:n,position:"end",size:te(e)})}function $o(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new N0({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const c0="#__bigint";function Io(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+c0:s,n)}const u0=new TextDecoder,f0=new TextEncoder;function d0(e){return e instanceof Uint8Array?e:typeof e=="string"?So(e):l0(e)}function l0(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function So(e,t={}){const{size:n}=t;let r=e;n&&(Kt(e,n),r=De(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){const u=is(s.charCodeAt(c++)),f=is(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new U(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=u*16+f}return i}function b0(e,t={}){const{size:n}=t,r=f0.encode(e);return typeof n=="number"?(Bt(r,n),h0(r,n)):r}function h0(e,t){return o0(e,{dir:"right",size:t})}function Je(e){return e.length}function p0(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function m0(e,t={}){const{size:n}=t;typeof n<"u"&&Bt(e,n);const r=fe(e,t);return ko(r,t)}function y0(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(Bt(r,n),r=No(r)),r.length>1||r[0]>1)throw new v0(r);return!!r[0]}function Ee(e,t={}){const{size:n}=t;typeof n<"u"&&Bt(e,n);const r=fe(e,t);return Ro(r,t)}function g0(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(Bt(r,n),r=w0(r)),u0.decode(r)}function No(e){return Ao(e,{dir:"left"})}function w0(e){return Ao(e,{dir:"right"})}class v0 extends U{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let x0=class extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},E0=class extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const P0=new TextEncoder,B0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function A0(e,t={}){const{strict:n=!1}=t;if(!e)throw new as(e);if(typeof e!="string")throw new as(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new cs(e);if(!e.startsWith("0x"))throw new cs(e)}function ue(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function $0(e){return e instanceof Uint8Array?fe(e):Array.isArray(e)?fe(new Uint8Array(e)):e}function To(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Kt(n,t.size),je(n,t.size)):n}function fe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=B0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Kt(r,t.size),De(r,t.size)):r}function W(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const u=typeof e=="bigint"?"n":"";throw new Co({max:o?`${o}${u}`:void 0,min:`${i}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?je(c,r):c}function or(e,t={}){return fe(P0.encode(e),t)}function je(e,t){return $o(e,{dir:"left",size:t})}function De(e,t){return $o(e,{dir:"right",size:t})}function pe(e,t,n,r={}){const{strict:s}=r;i0(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&a0(o,t,n),o}function te(e){return Math.ceil((e.length-2)/2)}function ko(e,t={}){const{signed:n}=t;t.size&&Kt(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return r<=i?r:r-o-1n}function Ro(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:ko(e,t))}function I0(e,t={}){const{strict:n=!1}=t;try{return A0(e,{strict:n}),!0}catch{return!1}}class Co extends U{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class as extends U{constructor(t){super(`Value \`${typeof t=="object"?Io(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class cs extends U{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class S0 extends U{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Fo extends U{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class N0 extends U{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function T0(e){return{address:e.address,amount:W(e.amount),index:W(e.index),validatorIndex:W(e.validatorIndex)}}function Oo(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:W(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:W(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:W(e.gasLimit)},...typeof e.number=="bigint"&&{number:W(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:W(e.prevRandao)},...typeof e.time=="bigint"&&{time:W(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(T0)}}}const k0="0x82ad56cb",zo="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",R0="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",C0="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",ir="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",bn="/docs/contract/encodeDeployData";function ar(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new ua({docsPath:bn});if(!("inputs"in s))throw new Hr({docsPath:bn});if(!s.inputs||s.inputs.length===0)throw new Hr({docsPath:bn});const o=Re(s.inputs,n);return ot([r,o])}function cr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof I?e.walk(s=>s?.code===kt.code):e;return r instanceof I?new kt({cause:e,message:r.details}):kt.nodeMessage.test(n)?new kt({cause:e,message:e.details}):An.nodeMessage.test(n)?new An({cause:e,maxFeePerGas:t?.maxFeePerGas}):Fr.nodeMessage.test(n)?new Fr({cause:e,maxFeePerGas:t?.maxFeePerGas}):Or.nodeMessage.test(n)?new Or({cause:e,nonce:t?.nonce}):zr.nodeMessage.test(n)?new zr({cause:e,nonce:t?.nonce}):_r.nodeMessage.test(n)?new _r({cause:e,nonce:t?.nonce}):Mr.nodeMessage.test(n)?new Mr({cause:e}):Ur.nodeMessage.test(n)?new Ur({cause:e,gas:t?.gas}):Lr.nodeMessage.test(n)?new Lr({cause:e,gas:t?.gas}):jr.nodeMessage.test(n)?new jr({cause:e}):$n.nodeMessage.test(n)?new $n({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new jt({cause:e})}function _o(e,{docsPath:t,...n}){const r=(()=>{const s=cr(e,n);return s instanceof jt?e:s})();return new mo(r,{docsPath:t,...n})}function ur(e,{format:t}){if(!t)return{};const n={};function r(o){const i=Object.keys(o);for(const a of i)a in e&&(n[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&r(o[a])}const s=t(e||{});return r(s),n}const F0={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Jt(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=O0(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>H(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=z(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=z(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=z(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=z(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=z(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=z(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=F0[e.type]),typeof e.value<"u"&&(n.value=z(e.value)),n}function O0(e){return e.map(t=>({address:t.address,r:t.r?z(BigInt(t.r)):t.r,s:t.s?z(BigInt(t.s)):t.s,chainId:z(t.chainId),nonce:z(t.nonce),...typeof t.yParity<"u"?{yParity:z(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:z(t.v)}:{}}))}function us(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Tr({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Tr({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function z0(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=z(t)),n!==void 0&&(i.nonce=z(n)),r!==void 0&&(i.state=us(r)),s!==void 0){if(i.state)throw new Uc;i.stateDiff=us(s)}return i}function fr(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ie(n,{strict:!1}))throw new Ue({address:n});if(t[n])throw new Mc({address:n});t[n]=z0(r)}return t}const _0=2n**256n-1n;function At(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?me(t):void 0;if(i&&!ie(i.address))throw new Ue({address:i.address});if(o&&!ie(o))throw new Ue({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new jc;if(r&&r>_0)throw new An({maxFeePerGas:r});if(s&&r&&s>r)throw new $n({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function $t(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:b,gas:m,gasPrice:h,maxFeePerBlobGas:w,maxFeePerGas:g,maxPriorityFeePerGas:B,nonce:v,to:p,value:y,stateOverride:P,...x}=t,S=n?me(n):void 0;if(f&&(l||b))throw new I("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&p)throw new I("Cannot provide both `code` & `to` as parameters.");const F=f&&d,T=l&&b&&p&&d,N=F||T,O=F?Mo({code:f,data:d}):T?L0({data:d,factory:l,factoryData:b,to:p}):d;try{At(t);const j=(typeof o=="bigint"?z(o):void 0)||i,A=u?Oo(u):void 0,E=fr(P),k=e.chain?.formatters?.transactionRequest?.format,R=(k||Jt)({...ur(x,{format:k}),from:S?.address,accessList:a,authorizationList:r,blobs:c,data:O,gas:m,gasPrice:h,maxFeePerBlobGas:w,maxFeePerGas:g,maxPriorityFeePerGas:B,nonce:v,to:N?void 0:p,value:y},"call");if(s&&M0({request:R})&&!E&&!A)try{return await U0(e,{...R,blockNumber:o,blockTag:i})}catch(D){if(!(D instanceof uo)&&!(D instanceof Cn))throw D}const M=(()=>{const D=[R,j];return E&&A?[...D,E,A]:E?[...D,E]:A?[...D,{},A]:D})(),L=await e.request({method:"eth_call",params:M});return L==="0x"?{data:void 0}:{data:L}}catch(C){const j=j0(C),{offchainLookup:A,offchainLookupSignature:E}=await Cs(async()=>{const{offchainLookup:k,offchainLookupSignature:$}=await Promise.resolve().then(()=>Ju);return{offchainLookup:k,offchainLookupSignature:$}},void 0);if(e.ccipRead!==!1&&j?.slice(0,10)===E&&p)return{data:await A(e,{data:j,to:p})};throw N&&j?.slice(0,10)==="0x101bb98d"?new Vc({factory:l}):_o(C,{...t,account:S,chain:e.chain})}}function M0({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(k0)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function U0(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return at({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new uo})(),d=(typeof o=="bigint"?z(o):void 0)||i,{schedule:l}=Ki({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(h){return h.reduce((g,{data:B})=>g+(B.length-2),0)>n*2},fn:async h=>{const w=h.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),g=le({abi:Ft,args:[w],functionName:"aggregate3"}),B=await e.request({method:"eth_call",params:[{...u===null?{data:Mo({code:ir,data:g})}:{to:u,data:g}},d]});return He({abi:Ft,args:[w],functionName:"aggregate3",data:B||"0x"})}}),[{returnData:b,success:m}]=await l({data:a,to:c});if(!m)throw new Zt({data:b});return b==="0x"?{data:void 0}:{data:b}}function Mo(e){const{code:t,data:n}=e;return ar({abi:io(["constructor(bytes, bytes)"]),bytecode:zo,args:[t,n]})}function L0(e){const{data:t,factory:n,factoryData:r,to:s}=e;return ar({abi:io(["constructor(address, bytes, address, bytes)"]),bytecode:R0,args:[s,t,n,r]})}function j0(e){if(!(e instanceof I))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function de(e,t){const{abi:n,address:r,args:s,functionName:o,...i}=t,a=le({abi:n,args:s,functionName:o});try{const{data:c}=await _(e,$t,"call")({...i,data:a,to:r});return He({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw st(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function D0(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return at({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=s!=null?[On(o),BigInt(s)]:[On(o)];try{const l=le({abi:Dr,functionName:"addr",args:d}),b={address:u,abi:_s,functionName:"resolveWithGateways",args:[Le(tr(o)),l,i??[xt]],blockNumber:n,blockTag:r},h=await _(e,de,"readContract")(b);if(h[0]==="0x")return null;const w=He({abi:Dr,args:d,functionName:"addr",data:h[0]});return w==="0x"||Lt(w)==="0x00"?null:w}catch(l){if(a)throw l;if(er(l))return null;throw l}}class G0 extends I{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class ft extends I{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class dr extends I{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class q0 extends I{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const H0=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,V0=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Z0=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,W0=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Y0(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function fs(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Uo({uri:e,gatewayUrls:t}){const n=Z0.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=fs(t?.ipfs,"https://ipfs.io"),s=fs(t?.arweave,"https://arweave.net"),o=e.match(H0),{protocol:i,subpath:a,target:c,subtarget:u=""}=o?.groups||{},f=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||V0.test(e);if(e.startsWith("http")&&!f&&!d){let b=e;return t?.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(W0,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new dr({uri:e})}function Lo(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new G0({data:e});return e.image||e.image_url||e.image_data}async function K0({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await lr({gatewayUrls:e,uri:Lo(n)})}catch{throw new dr({uri:t})}}async function lr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Uo({uri:t,gatewayUrls:e});if(r||await Y0(n))return n;throw new dr({uri:t})}function J0(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,i]=n.split(":"),[a,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new ft({reason:"Only EIP-155 supported"});if(!i)throw new ft({reason:"Chain ID not found"});if(!c)throw new ft({reason:"Contract address not found"});if(!s)throw new ft({reason:"Token ID not found"});if(!a)throw new ft({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function X0(e,{nft:t}){if(t.namespace==="erc721")return de(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return de(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new q0({namespace:t.namespace})}async function Q0(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?eu(e,{gatewayUrls:t,record:n}):lr({uri:n,gatewayUrls:t})}async function eu(e,{gatewayUrls:t,record:n}){const r=J0(n),s=await X0(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=Uo({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return lr({uri:Lo(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),K0({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function jo(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return at({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:_s,args:[Le(tr(o)),le({abi:Gr,functionName:"text",args:[On(o),s]}),i??[xt]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},b=await _(e,de,"readContract")(d);if(b[0]==="0x")return null;const m=He({abi:Gr,functionName:"text",data:b[0]});return m===""?null:m}catch(d){if(a)throw d;if(er(d))return null;throw d}}async function tu(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){const c=await _(e,jo,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Q0(e,{record:c,gatewayUrls:r})}catch{return null}}async function nu(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return at({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:aa,args:[n,o,i??[xt]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=_(e,de,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(er(f))return null;throw f}}async function ru(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return at({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await _(e,de,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Le(tr(s))],blockNumber:n,blockTag:r});return c}async function Do(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b,...m}=t,h=n?me(n):void 0;try{At(t);const g=(typeof r=="bigint"?z(r):void 0)||s,B=e.chain?.formatters?.transactionRequest?.format,p=(B||Jt)({...ur(m,{format:B}),from:h?.address,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b},"createAccessList"),y=await e.request({method:"eth_createAccessList",params:[p,g]});return{accessList:y.accessList,gasUsed:BigInt(y.gasUsed)}}catch(w){throw _o(w,{...t,account:h,chain:e.chain})}}function Xt(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{o==="success"&&t===r&&(n[s]=i.request)}),(r=>n[r]||e.request)}async function su(e){const t=Xt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class ou extends I{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const ds="/docs/contract/encodeEventTopics";function It(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=qe({abi:t,name:n});if(!c)throw new Zr(n,{docsPath:ds});s=c}if(s.type!=="event")throw new Zr(void 0,{docsPath:ds});const o=ae(s),i=Ht(o);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(a=c?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,b)=>ls({param:f,value:u[d][b]})):typeof u[d]<"u"&&u[d]!==null?ls({param:f,value:u[d]}):null)??[])}return[i,...a]}function ls({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Z(yt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ou(e.type);return Re([e],[t])}async function Go(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,u=Xt(e,{method:"eth_newFilter"}),f=o?It({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?z(i):i,toBlock:typeof c=="bigint"?z(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}async function qo(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Xt(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(b=>It({abi:[b],eventName:b.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?z(o):o,toBlock:typeof a=="bigint"?z(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!i,toBlock:a,type:"event"}}async function Ho(e){const t=Xt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function iu(e){const t=Z(`0x${e.substring(4)}`).substring(26);return ks(`0x${t}`)}async function au({hash:e,signature:t}){const n=Ne(e)?e:Le(e),{secp256k1:r}=await Cs(async()=>{const{secp256k1:i}=await Promise.resolve().then(()=>ld);return{secp256k1:i}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,b=Number(l??d),m=bs(b);return new r.Signature(Be(u),Be(f)).addRecoveryBit(m)}const i=Ne(t)?t:Le(t);if(G(i)!==65)throw new Error("invalid signature length");const a=Pe(`0x${i.slice(130)}`),c=bs(a);return r.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function bs(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Vo({hash:e,signature:t}){return iu(await au({hash:e,signature:t}))}function cu(e,t="hex"){const n=Zo(e),r=Yn(new Uint8Array(n.length));return n.encode(r),t==="hex"?H(r.bytes):r.bytes}function Zo(e){return Array.isArray(e)?uu(e.map(t=>Zo(t))):fu(e)}function uu(e){const t=e.reduce((s,o)=>s+o.length,0),n=Wo(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:o}of e)o(s)}}}function fu(e){const t=typeof e=="string"?Te(e):e,n=Wo(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Wo(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new I("Length is too large.")}function du(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=Z(ot(["0x05",cu([t?z(t):"0x",s,n?z(n):"0x"])]));return r==="bytes"?Te(o):o}async function Yo(e){const{authorization:t,signature:n}=e;return Vo({hash:du(t),signature:n??t})}class lu extends I{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const b=Vt({from:n?.address,to:d,value:typeof l<"u"&&`${Rs(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${_e(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${_e(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${_e(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function bu(e,{docsPath:t,...n}){const r=(()=>{const s=cr(e,n);return s instanceof jt?e:s})();return new lu(r,{docsPath:t,...n})}class hu extends I{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class br extends I{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class pu extends I{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${_e(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Ko extends I{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Jo={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Xo(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Pe(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Pe(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Jo[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=mu(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}function mu(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Qo(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Xo(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function he(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,i=n!==void 0?z(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||r,o]},{dedupe:!!i}),!a)throw new Ko({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Qo)(a,"getBlock")}async function hr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function yu(e,t){return ei(e,t)}async function ei(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const a=n||await _(e,he,"getBlock")({}),c=await o({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return Be(i)}catch{const[o,i]=await Promise.all([n?Promise.resolve(n):_(e,he,"getBlock")({}),_(e,hr,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new br;const a=i-o.baseFeePerGas;return a<0n?0n:a}}async function gu(e,t){return _n(e,t)}async function _n(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new hu;const c=10**(i.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(i*c))/BigInt(c),f=n||await _(e,he,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new br;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await ei(e,{block:f,chain:r,request:s}),b=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??b+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await _(e,hr,"getGasPrice")({}))}}async function ti(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?z(r):n]},{dedupe:!!r});return Pe(s)}function ni(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Te(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>H(o))}function ri(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Te(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Te(i)):e.commitments,o=[];for(let i=0;i<r.length;i++){const a=r[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?o:o.map(i=>H(i))}function wu(e,t){return Ji(Ne(e,{strict:!1})?yt(e):e)}function vu(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=wu(t);return s.set([n],0),r==="bytes"?s:H(s)}function xu(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const o of t)s.push(vu({commitment:o,to:r,version:n}));return s}const hs=6,si=32,pr=4096,oi=si*pr,ps=oi*hs-1-1*pr*hs;class Eu extends I{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Pu extends I{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function Bu(e){const t=typeof e.data=="string"?Te(e.data):e.data,n=G(t);if(!n)throw new Pu;if(n>ps)throw new Eu({maxSize:ps,size:n});const r=[];let s=!0,o=0;for(;s;){const i=Yn(new Uint8Array(oi));let a=0;for(;a<pr;){const c=t.slice(o,o+(si-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),s=!1;break}a++,o+=31}r.push(i)}return r.map(i=>H(i.bytes))}function Au(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Bu({data:t}),o=e.commitments??ni({blobs:s,kzg:n,to:r}),i=e.proofs??ri({blobs:s,commitments:o,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}function $u(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Dc({transaction:e})}async function ii(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Pe(t)}const Iu=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ms=new Map;async function ai(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:i,nonce:a,nonceManager:c,parameters:u=Iu,type:f}=t,d=n&&me(n),l={...t,...d?{from:d?.address}:{}};let b;async function m(){return b||(b=await _(e,he,"getBlock")({blockTag:"latest"}),b)}let h;async function w(){return h||(s?s.id:typeof t.chainId<"u"?t.chainId:(h=await _(e,ii,"getChainId")({}),h))}if(u.includes("nonce")&&typeof a>"u"&&d)if(c){const g=await w();l.nonce=await c.consume({address:d.address,chainId:g,client:e})}else l.nonce=await _(e,ti,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const g=ni({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const B=xu({commitments:g,to:"hex"});l.blobVersionedHashes=B}if(u.includes("sidecars")){const B=ri({blobs:r,commitments:g,kzg:i}),v=Au({blobs:r,commitments:g,proofs:B,to:"hex"});l.sidecars=v}}if(u.includes("chainId")&&(l.chainId=await w()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=$u(l)}catch{let g=ms.get(e.uid);typeof g>"u"&&(g=typeof(await m())?.baseFeePerGas=="bigint",ms.set(e.uid,g)),l.type=g?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const g=await m(),{maxFeePerGas:B,maxPriorityFeePerGas:v}=await _n(e,{block:g,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<v)throw new pu({maxPriorityFeePerGas:v});l.maxPriorityFeePerGas=v,l.maxFeePerGas=B}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new br;if(typeof t.gasPrice>"u"){const g=await m(),{gasPrice:B}=await _n(e,{block:g,chain:s,request:l,type:"legacy"});l.gasPrice=B}}return u.includes("gas")&&typeof o>"u"&&(l.gas=await _(e,mr,"estimateGas")({...l,account:d&&{address:d.address,type:"json-rpc"}})),At(l),delete l.parameters,l}async function mr(e,t){const{account:n=e.account}=t,r=n?me(n):void 0;try{const{accessList:s,authorizationList:o,blobs:i,blobVersionedHashes:a,blockNumber:c,blockTag:u,data:f,gas:d,gasPrice:l,maxFeePerBlobGas:b,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:w,value:g,stateOverride:B,...v}=await ai(e,{...t,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),y=(typeof c=="bigint"?z(c):void 0)||u,P=fr(B),x=await(async()=>{if(v.to)return v.to;if(o&&o.length>0)return await Yo({authorization:o[0]}).catch(()=>{throw new I("`to` is required. Could not infer from `authorizationList`")})})();At(t);const S=e.chain?.formatters?.transactionRequest?.format,T=(S||Jt)({...ur(v,{format:S}),from:r?.address,accessList:s,authorizationList:o,blobs:i,blobVersionedHashes:a,data:f,gas:d,gasPrice:l,maxFeePerBlobGas:b,maxFeePerGas:m,maxPriorityFeePerGas:h,nonce:w,to:x,value:g},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:P?[T,y??e.experimental_blockTag??"latest",P]:y?[T,y]:[T]}))}catch(s){throw bu(s,{...t,account:r,chain:e.chain})}}async function Su(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:i,...a}=t,c=le({abi:n,args:s,functionName:o});try{return await _(e,mr,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?me(a.account):void 0;throw st(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}async function Nu(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?z(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Tu(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const ku=new Map,Ru=new Map;function Cu(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,ku),r=t(e,Ru);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Fu(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Cu(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const Ou=e=>`blockNumber.${e}`;async function St(e,{cacheTime:t=e.cacheTime}={}){const n=await Fu(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Ou(e.uid),cacheTime:t});return BigInt(n)}async function zu(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?z(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),Pe(o)}async function Mn(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?z(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function Nt(e,t){if(!ie(e,{strict:!1}))throw new Ue({address:e});if(!ie(t,{strict:!1}))throw new Ue({address:t});return e.toLowerCase()===t.toLowerCase()}const ys="/docs/contract/decodeEventLog";function yr(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[i,...a]=s;if(!i)throw new ha({docsPath:ys});const c=t.find(h=>h.type==="event"&&i===Ht(ae(h)));if(!(c&&"name"in c)||c.type!=="event")throw new js(i,{docsPath:ys});const{name:u,inputs:f}=c,d=f?.some(h=>!("name"in h&&h.name)),l=d?[]:{},b=f.map((h,w)=>[h,w]).filter(([h])=>"indexed"in h&&h.indexed);for(let h=0;h<b.length;h++){const[w,g]=b[h],B=a[h];if(!B)throw new Gt({abiItem:c,param:w});l[d?g:w.name||g]=_u({param:w,value:B})}const m=f.filter(h=>!("indexed"in h&&h.indexed));if(m.length>0){if(n&&n!=="0x")try{const h=wt(m,n);if(h)if(d)for(let w=0;w<f.length;w++)l[w]=l[w]??h.shift();else for(let w=0;w<m.length;w++)l[m[w].name]=h[w]}catch(h){if(o)throw h instanceof Us||h instanceof qs?new lt({abiItem:c,data:n,params:m,size:G(n)}):h}else if(o)throw new lt({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function _u({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(wt([e],t)||[])[0]}function gr(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{try{const a=t.find(u=>u.type==="event"&&i.topics[0]===Ht(u));if(!a)return null;const c=yr({...i,abi:[a],strict:s});return o&&!o.includes(c.eventName)||!Mu({args:c.args,inputs:a.inputs,matchArgs:n})?null:{...c,...i}}catch(a){let c,u;if(a instanceof js)return null;if(a instanceof lt||a instanceof Gt){if(s)return null;c=a.abiItem.name,u=a.abiItem.inputs?.some(f=>!("name"in f&&f.name))}return{...i,args:u?[]:{},eventName:c}}}).filter(Boolean)}function Mu(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?Nt(i,a):o.type==="string"||o.type==="bytes"?Z(yt(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,i)=>{if(o==null)return!0;const a=n[i];return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,i])=>{if(i==null)return!0;const a=n.find(u=>u.name===o);return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):!1}function $e(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function wr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,f=i??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(h=>It({abi:[h],eventName:h.name,args:i?void 0:a}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?z(r):r,toBlock:typeof s=="bigint"?z(s):s}]});const b=l.map(m=>$e(m));return f?gr({abi:f,args:a,logs:b,strict:u}):b}async function ci(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=t,f=i?qe({abi:n,name:i}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return _(e,wr,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}class Uu extends I{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Lu(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,i,a,c,u,f,d]=await _(e,de,"readContract")({abi:ju,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new Uu({address:n}):i}}const ju=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Du(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function Gu(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?z(n):void 0,i=await e.request({method:"eth_feeHistory",params:[z(t),o||r,s]},{dedupe:!!o});return Du(i)}async function Qt(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>$e(o));return!("abi"in t)||!t.abi?s:gr({abi:t.abi,logs:s,strict:n})}async function qu(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>$e(o));return t.abi?gr({abi:t.abi,logs:s,strict:n}):s}async function Hu({address:e,authorization:t,signature:n}){return Nt(Fs(e),await Yo({authorization:t,signature:n}))}class Vu extends I{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:i}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(a=>`    ${Os(a)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class Zu extends I{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${Os(n)}`,`Response: ${se(t)}`],name:"OffchainLookupResponseMalformedError"})}}class Wu extends I{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const Yu="0x556f1830",ui={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Ku(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=lo({data:r,abi:[ui]}),[i,a,c,u,f]=o,{ccipRead:d}=e,l=d&&typeof d?.request=="function"?d.request:fi;try{if(!Nt(s,i))throw new Wu({sender:i,to:s});const b=a.includes(xt)?await go({data:c,ccipRequest:l}):await l({data:c,sender:i,urls:a}),{data:m}=await $t(e,{blockNumber:t,blockTag:n,data:ce([u,Re([{type:"bytes"},{type:"bytes"}],[b,f])]),to:s});return m}catch(b){throw new Vu({callbackSelector:u,cause:b,data:r,extraData:f,sender:i,urls:a})}}async function fi({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const o=n[s],i=o.includes("{data}")?"GET":"POST",a=i==="POST"?{data:e,sender:t}:void 0,c=i==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:i});let f;if(u.headers.get("Content-Type")?.startsWith("application/json")?f=(await u.json()).data:f=await u.text(),!u.ok){r=new kr({body:a,details:f?.error?se(f.error):u.statusText,headers:u.headers,status:u.status,url:o});continue}if(!Ne(f)){r=new Zu({result:f,url:o});continue}return f}catch(u){r=new kr({body:a,details:u.message,url:o})}}throw r}const Ju=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:fi,offchainLookup:Ku,offchainLookupAbiItem:ui,offchainLookupSignature:Yu},Symbol.toStringTag,{value:"Module"}));function Al(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const Xu={"0x0":"reverted","0x1":"success"};function di(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>$e(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Pe(e.transactionIndex):null,status:e.status?Xu[e.status]:null,type:e.type?Jo[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const Qu=`Ethereum Signed Message:
`;function ef(e){const t=typeof e=="string"?Pn(e):typeof e.raw=="string"?e.raw:H(e.raw),n=Pn(`${Qu}${G(t)}`);return ce([n,t])}function li(e,t){return Z(ef(e),t)}class tf extends I{constructor({domain:t}){super(`Invalid domain "${se(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class nf extends I{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class rf extends I{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function sf(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(i,a)=>{for(const c of i){const{name:u,type:f}=c,d=a[u],l=f.match(Ws);if(l&&(typeof d=="number"||typeof d=="bigint")){const[h,w,g]=l;z(d,{signed:w==="int",size:Number.parseInt(g,10)/8})}if(f==="address"&&typeof d=="string"&&!ie(d))throw new Ue({address:d});const b=f.match(Sa);if(b){const[h,w]=b;if(w&&G(d)!==Number.parseInt(w,10))throw new ya({expectedSize:Number.parseInt(w,10),givenSize:G(d)})}const m=s[f];m&&(af(f),o(m,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new tf({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new nf({primaryType:r,types:s})}function of({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function af(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new rf({type:e})}function cf(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:of({domain:t}),...e.types};sf({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(uf({domain:t,types:s})),r!=="EIP712Domain"&&o.push(bi({data:n,primaryType:r,types:s})),Z(ce(o))}function uf({domain:e,types:t}){return bi({data:e,primaryType:"EIP712Domain",types:t})}function bi({data:e,primaryType:t,types:n}){const r=hi({data:e,primaryType:t,types:n});return Z(r)}function hi({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[ff({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=mi({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return Re(r,s)}function ff({primaryType:e,types:t}){const n=Le(df({primaryType:e,types:t}));return Z(n)}function df({primaryType:e,types:t}){let n="";const r=pi({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function pi({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])pi({primaryType:o.type,types:t},n);return n}function mi({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Z(hi({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Z(r)];if(n==="string")return[{type:"bytes32"},Z(Le(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>mi({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},Z(Re(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}class lf extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const bf={checksum:new lf(8192)},hn=bf.checksum;function yi(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Xi(d0(e));return n==="Bytes"?r:fe(r)}const hf=/^0x[a-fA-F0-9]{40}$/;function en(e,t={}){const{strict:n=!0}=t;if(!hf.test(e))throw new gs({address:e,cause:new pf});if(n){if(e.toLowerCase()===e)return;if(gi(e)!==e)throw new gs({address:e,cause:new mf})}}function gi(e){if(hn.has(e))return hn.get(e);en(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=yi(b0(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return hn.set(e,s),s}function Un(e,t={}){const{strict:n=!0}=t??{};try{return en(e,{strict:n}),!0}catch{return!1}}class gs extends U{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class pf extends U{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class mf extends U{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const yf=/^(.*)\[([0-9]*)\]$/,gf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,wi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ws=2n**256n-1n;function tt(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Er(t.type);if(o){const[i,a]=o;return vf(e,{...t,type:a},{checksumAddress:r,length:i,staticPosition:s})}if(t.type==="tuple")return Bf(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return wf(e,{checksum:r});if(t.type==="bool")return xf(e);if(t.type.startsWith("bytes"))return Ef(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Pf(e,t);if(t.type==="string")return Af(e,{staticPosition:s});throw new Br(t.type)}const vs=32,Ln=32;function wf(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?gi(o):o)(fe(p0(r,-20))),32]}function vf(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=Ee(e.readBytes(Ln)),u=o+c,f=u+vs;e.setPosition(u);const d=Ee(e.readBytes(vs)),l=mt(t);let b=0;const m=[];for(let h=0;h<d;++h){e.setPosition(f+(l?h*32:b));const[w,g]=tt(e,t,{checksumAddress:r,staticPosition:f});b+=g,m.push(w)}return e.setPosition(o+32),[m,32]}if(mt(t)){const c=Ee(e.readBytes(Ln)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=tt(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let i=0;const a=[];for(let c=0;c<s;++c){const[u,f]=tt(e,t,{checksumAddress:r,staticPosition:o+i});i+=f,a.push(u)}return[a,i]}function xf(e){return[y0(e.readBytes(32),{size:32}),32]}function Ef(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const i=Ee(e.readBytes(32));e.setPosition(n+i);const a=Ee(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[fe(c),32]}return[fe(e.readBytes(Number.parseInt(s,10),32)),32]}function Pf(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?m0(s,{signed:n}):Ee(s,{signed:n}),32]}function Bf(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{};let a=0;if(mt(t)){const c=Ee(e.readBytes(Ln)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,b]=tt(e,d,{checksumAddress:r,staticPosition:u});a+=b,i[o?f:d?.name]=l}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=tt(e,u,{checksumAddress:r,staticPosition:s});i[o?c:u?.name]=f,a+=d}return[i,a]}function Af(e,{staticPosition:t}){const n=Ee(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Ee(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),i=g0(No(o));return e.setPosition(t+32),[i,32]}function $f({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(vr({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function vr({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Er(r.type);if(s){const[o,i]=s;return Sf(n,{checksumAddress:e,length:o,parameter:{...r,type:i}})}if(r.type==="tuple")return Cf(n,{checksumAddress:e,parameter:r});if(r.type==="address")return If(n,{checksum:e});if(r.type==="bool")return Tf(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,i="256"]=wi.exec(r.type)??[];return kf(n,{signed:o,size:Number(i)})}if(r.type.startsWith("bytes"))return Nf(n,{type:r.type});if(r.type==="string")return Rf(n);throw new Br(r.type)}function xr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=te(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(W(t+s,{size:32})),r.push(a),s+=te(a)):n.push(a)}return ue(...n,...r)}function If(e,t){const{checksum:n=!1}=t;return en(e,{strict:n}),{dynamic:!1,encoded:je(e.toLowerCase())}}function Sf(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new Df(e);if(!o&&e.length!==r)throw new jf({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const a=[];for(let c=0;c<e.length;c++){const u=vr({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),a.push(u)}if(o||i){const c=xr(a);if(o){const u=W(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?ue(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:ue(...a.map(({encoded:c})=>c))}}function Nf(e,{type:t}){const[,n]=t.split("bytes"),r=te(e);if(!n){let s=e;return r%32!==0&&(s=De(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:ue(je(W(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new xi({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:De(e)}}function Tf(e){if(typeof e!="boolean")throw new U(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:je(To(e))}}function kf(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Co({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:W(e,{size:32,signed:t})}}function Rf(e){const t=or(e),n=Math.ceil(te(t)/32),r=[];for(let s=0;s<n;s++)r.push(De(pe(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:ue(De(W(te(t),{size:32})),...r)}}function Cf(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let i=0;i<r.components.length;i++){const a=r.components[i],c=Array.isArray(e)?i:a.name,u=vr({checksumAddress:n,parameter:a,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?xr(o):ue(...o.map(({encoded:i})=>i))}}function Er(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function mt(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(mt);const n=Er(e.type);return!!(n&&mt({...e,type:n[1]}))}const Ff={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new _f({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new zf({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new xs({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new xs({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Of(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Ff);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class xs extends U{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class zf extends U{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class _f extends U{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Mf(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?So(t):t,i=Of(o);if(Je(o)===0&&e.length>0)throw new Lf;if(Je(o)&&Je(o)<32)throw new Uf({data:typeof t=="string"?t:fe(t),parameters:e,size:Je(o)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];i.setPosition(a);const[d,l]=tt(i,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function Pr(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Ei({expectedLength:e.length,givenLength:t.length});const s=$f({checksumAddress:r,parameters:e,values:t}),o=xr(s);return o.length===0?"0x":o}function jn(e,t){if(e.length!==t.length)throw new Ei({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(jn.encode(s,o))}return ue(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return en(c),je(c.toLowerCase(),s?32:0)}if(n==="string")return or(r);if(n==="bytes")return r;if(n==="bool")return je(To(r),s?32:1);const o=n.match(wi);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return W(r,{size:s?32:d,signed:u==="int"})}const i=n.match(gf);if(i){const[c,u]=i;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new xi({expectedSize:Number.parseInt(u,10),value:r});return De(r,s?32:0)}const a=n.match(yf);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":ue(...f)}throw new Br(n)}e.encode=t})(jn||(jn={}));function vi(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Qr(e):e}class Uf extends U{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Ke(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Lf extends U{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class jf extends U{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class xi extends U{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${te(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Ei extends U{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Df extends U{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Br extends U{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X=BigInt(0),Y=BigInt(1),Oe=BigInt(2),Gf=BigInt(3),Pi=BigInt(4),Bi=BigInt(5),Ai=BigInt(8);function J(e,t){const n=e%t;return n>=X?n:t+n}function ne(e,t,n){let r=e;for(;t-- >X;)r*=r,r%=n;return r}function Dn(e,t){if(e===X)throw new Error("invert: expected non-zero number");if(t<=X)throw new Error("invert: expected positive modulus, got "+t);let n=J(e,t),r=t,s=X,o=Y;for(;n!==X;){const a=r/n,c=r%n,u=s-o*a;r=n,n=c,s=o,o=u}if(r!==Y)throw new Error("invert: does not exist");return J(s,t)}function $i(e,t){const n=(e.ORDER+Y)/Pi,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function qf(e,t){const n=(e.ORDER-Bi)/Ai,r=e.mul(t,Oe),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,Oe),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Hf(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Y,n=0;for(;t%Oe===X;)t/=Oe,n++;let r=Oe;const s=Ar(e);for(;Es(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return $i;let o=s.pow(r,t);const i=(t+Y)/Oe;return function(c,u){if(c.is0(u))return u;if(Es(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,o),l=c.pow(u,t),b=c.pow(u,i);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let m=1,h=c.sqr(l);for(;!c.eql(h,c.ONE);)if(m++,h=c.sqr(h),m===f)throw new Error("Cannot find square root");const w=Y<<BigInt(f-m-1),g=c.pow(d,w);f=m,d=c.sqr(g),l=c.mul(l,d),b=c.mul(b,g)}return b}}function Vf(e){return e%Pi===Gf?$i:e%Ai===Bi?qf:Hf(e)}const Zf=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wf(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Zf.reduce((r,s)=>(r[s]="function",r),t);return Yt(e,n)}function Yf(e,t,n){if(n<X)throw new Error("invalid exponent, negatives unsupported");if(n===X)return e.ONE;if(n===Y)return t;let r=e.ONE,s=t;for(;n>X;)n&Y&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Y;return r}function Ii(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function Es(e,t){const n=(e.ORDER-Y)/Oe,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function Si(e,t){t!==void 0&&Qi(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ar(e,t,n=!1,r={}){if(e<=X)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=Si(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:Wt(s),ZERO:X,ONE:Y,create:c=>J(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return X<=c&&c<e},is0:c=>c===X,isOdd:c=>(c&Y)===Y,neg:c=>J(-c,e),eql:(c,u)=>c===u,sqr:c=>J(c*c,e),add:(c,u)=>J(c+u,e),sub:(c,u)=>J(c-u,e),mul:(c,u)=>J(c*u,e),pow:(c,u)=>Yf(a,c,u),div:(c,u)=>J(c*Dn(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Dn(c,e),sqrt:r.sqrt||(c=>(i||(i=Vf(e)),i(a,c))),toBytes:c=>n?Po(c,o):Pt(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?Eo(c):Me(c)},invertBatch:c=>Ii(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function Ni(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ti(e){const t=Ni(e);return t+Math.ceil(t/2)}function Kf(e,t,n=!1){const r=e.length,s=Ni(t),o=Ti(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?Eo(e):Me(e),a=J(i,t-Y)+Y;return n?Po(a,s):Pt(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ps=BigInt(0),Gn=BigInt(1);function pn(e,t){const n=t.negate();return e?n:t}function ki(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function mn(e,t){ki(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Wt(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function Bs(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=Gn);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,b=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:u}}function Jf(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Xf(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const yn=new WeakMap,Ri=new WeakMap;function gn(e){return Ri.get(e)||1}function Qf(e,t){return{constTimeNegate:pn,hasPrecomputes(n){return gn(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>Ps;)r&Gn&&(s=s.add(o)),o=o.double(),r>>=Gn;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=mn(r,t),i=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,i.push(c);for(let f=1;f<o;f++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(n,r,s){let o=e.ZERO,i=e.BASE;const a=mn(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:m}=Bs(s,c,a);s=u,d?i=i.add(pn(b,r[m])):o=o.add(pn(l,r[f]))}return{p:o,f:i}},wNAFUnsafe(n,r,s,o=e.ZERO){const i=mn(n,t);for(let a=0;a<i.windows&&s!==Ps;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=Bs(s,a,i);if(s=c,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=yn.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&yn.set(r,s(o))),o},wNAFCached(n,r,s){const o=gn(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=gn(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){ki(r,t),Ri.set(n,r),yn.delete(n)}}}function ed(e,t,n,r){Jf(n,e),Xf(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=e0(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Wt(c),f=new Array(Number(u)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c;let l=i;for(let b=d;b>=0;b-=c){f.fill(i);for(let h=0;h<o;h++){const w=r[h],g=Number(w>>BigInt(b)&u);f[g]=f[g].add(n[h])}let m=i;for(let h=f.length-1,w=i;h>0;h--)w=w.add(f[h]),m=m.add(w);if(l=l.add(m),b!==0)for(let h=0;h<c;h++)l=l.double()}return l}function Ci(e){return Wf(e.Fp),Yt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Si(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function As(e){e.lowS!==void 0&&ht("lowS",e.lowS),e.prehash!==void 0&&ht("prehash",e.prehash)}function td(e){const t=Ci(e);Yt(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class nd extends Error{constructor(t=""){super(t)}}const we={Err:nd,_tlv:{encode:(e,t)=>{const{Err:n}=we;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Rt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Rt(s.length/2|128):"";return Rt(e)+o+s+t},decode(e,t){const{Err:n}=we;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)i=i<<8|f;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=we;if(e<ve)throw new t("integer: negative integers are not allowed");let n=Rt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=we;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Me(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=we,s=re("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=we,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function wn(e,t){return pt(Pt(e,t))}const ve=BigInt(0),q=BigInt(1);BigInt(2);const vn=BigInt(3),rd=BigInt(4);function sd(e){const t=td(e),{Fp:n}=t,r=Ar(t.n,t.nBitLength),s=t.toBytes||((v,p,y)=>{const P=p.toAffine();return _t(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),o=t.fromBytes||(v=>{const p=v.subarray(1),y=n.fromBytes(p.subarray(0,n.BYTES)),P=n.fromBytes(p.subarray(n.BYTES,2*n.BYTES));return{x:y,y:P}});function i(v){const{a:p,b:y}=t,P=n.sqr(v),x=n.mul(P,v);return n.add(n.add(x,n.mul(v,p)),y)}function a(v,p){const y=n.sqr(p),P=i(v);return n.eql(y,P)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,vn),rd),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(v){return sr(v,q,t.n)}function d(v){const{allowedPrivateKeyLengths:p,nByteLength:y,wrapPrivateKey:P,n:x}=t;if(p&&typeof v!="bigint"){if(Et(v)&&(v=pt(v)),typeof v!="string"||!p.includes(v.length))throw new Error("invalid private key");v=v.padStart(y*2,"0")}let S;try{S=typeof v=="bigint"?v:Me(re("private key",v,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof v)}return P&&(S=J(S,x)),et("private key",S,q,x),S}function l(v){if(!(v instanceof h))throw new Error("ProjectivePoint expected")}const b=os((v,p)=>{const{px:y,py:P,pz:x}=v;if(n.eql(x,n.ONE))return{x:y,y:P};const S=v.is0();p==null&&(p=S?n.ONE:n.inv(x));const F=n.mul(y,p),T=n.mul(P,p),N=n.mul(x,p);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(N,n.ONE))throw new Error("invZ was invalid");return{x:F,y:T}}),m=os(v=>{if(v.is0()){if(t.allowInfinityPoint&&!n.is0(v.py))return;throw new Error("bad point: ZERO")}const{x:p,y}=v.toAffine();if(!n.isValid(p)||!n.isValid(y))throw new Error("bad point: x or y not FE");if(!a(p,y))throw new Error("bad point: equation left != right");if(!v.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(p,y,P){if(p==null||!n.isValid(p))throw new Error("x required");if(y==null||!n.isValid(y)||n.is0(y))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required");this.px=p,this.py=y,this.pz=P,Object.freeze(this)}static fromAffine(p){const{x:y,y:P}=p||{};if(!p||!n.isValid(y)||!n.isValid(P))throw new Error("invalid affine point");if(p instanceof h)throw new Error("projective point not allowed");const x=S=>n.eql(S,n.ZERO);return x(y)&&x(P)?h.ZERO:new h(y,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(p){const y=Ii(n,p.map(P=>P.pz));return p.map((P,x)=>P.toAffine(y[x])).map(h.fromAffine)}static fromHex(p){const y=h.fromAffine(o(re("pointHex",p)));return y.assertValidity(),y}static fromPrivateKey(p){return h.BASE.multiply(d(p))}static msm(p,y){return ed(h,r,p,y)}_setWindowSize(p){B.setWindowSize(this,p)}assertValidity(){m(this)}hasEvenY(){const{y:p}=this.toAffine();if(n.isOdd)return!n.isOdd(p);throw new Error("Field doesn't support isOdd")}equals(p){l(p);const{px:y,py:P,pz:x}=this,{px:S,py:F,pz:T}=p,N=n.eql(n.mul(y,T),n.mul(S,x)),O=n.eql(n.mul(P,T),n.mul(F,x));return N&&O}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:p,b:y}=t,P=n.mul(y,vn),{px:x,py:S,pz:F}=this;let T=n.ZERO,N=n.ZERO,O=n.ZERO,C=n.mul(x,x),j=n.mul(S,S),A=n.mul(F,F),E=n.mul(x,S);return E=n.add(E,E),O=n.mul(x,F),O=n.add(O,O),T=n.mul(p,O),N=n.mul(P,A),N=n.add(T,N),T=n.sub(j,N),N=n.add(j,N),N=n.mul(T,N),T=n.mul(E,T),O=n.mul(P,O),A=n.mul(p,A),E=n.sub(C,A),E=n.mul(p,E),E=n.add(E,O),O=n.add(C,C),C=n.add(O,C),C=n.add(C,A),C=n.mul(C,E),N=n.add(N,C),A=n.mul(S,F),A=n.add(A,A),C=n.mul(A,E),T=n.sub(T,C),O=n.mul(A,j),O=n.add(O,O),O=n.add(O,O),new h(T,N,O)}add(p){l(p);const{px:y,py:P,pz:x}=this,{px:S,py:F,pz:T}=p;let N=n.ZERO,O=n.ZERO,C=n.ZERO;const j=t.a,A=n.mul(t.b,vn);let E=n.mul(y,S),k=n.mul(P,F),$=n.mul(x,T),R=n.add(y,P),M=n.add(S,F);R=n.mul(R,M),M=n.add(E,k),R=n.sub(R,M),M=n.add(y,x);let L=n.add(S,T);return M=n.mul(M,L),L=n.add(E,$),M=n.sub(M,L),L=n.add(P,x),N=n.add(F,T),L=n.mul(L,N),N=n.add(k,$),L=n.sub(L,N),C=n.mul(j,M),N=n.mul(A,$),C=n.add(N,C),N=n.sub(k,C),C=n.add(k,C),O=n.mul(N,C),k=n.add(E,E),k=n.add(k,E),$=n.mul(j,$),M=n.mul(A,M),k=n.add(k,$),$=n.sub(E,$),$=n.mul(j,$),M=n.add(M,$),E=n.mul(k,M),O=n.add(O,E),E=n.mul(L,M),N=n.mul(R,N),N=n.sub(N,E),E=n.mul(R,k),C=n.mul(L,C),C=n.add(C,E),new h(N,O,C)}subtract(p){return this.add(p.negate())}is0(){return this.equals(h.ZERO)}wNAF(p){return B.wNAFCached(this,p,h.normalizeZ)}multiplyUnsafe(p){const{endo:y,n:P}=t;et("scalar",p,ve,P);const x=h.ZERO;if(p===ve)return x;if(this.is0()||p===q)return this;if(!y||B.hasPrecomputes(this))return B.wNAFCachedUnsafe(this,p,h.normalizeZ);let{k1neg:S,k1:F,k2neg:T,k2:N}=y.splitScalar(p),O=x,C=x,j=this;for(;F>ve||N>ve;)F&q&&(O=O.add(j)),N&q&&(C=C.add(j)),j=j.double(),F>>=q,N>>=q;return S&&(O=O.negate()),T&&(C=C.negate()),C=new h(n.mul(C.px,y.beta),C.py,C.pz),O.add(C)}multiply(p){const{endo:y,n:P}=t;et("scalar",p,q,P);let x,S;if(y){const{k1neg:F,k1:T,k2neg:N,k2:O}=y.splitScalar(p);let{p:C,f:j}=this.wNAF(T),{p:A,f:E}=this.wNAF(O);C=B.constTimeNegate(F,C),A=B.constTimeNegate(N,A),A=new h(n.mul(A.px,y.beta),A.py,A.pz),x=C.add(A),S=j.add(E)}else{const{p:F,f:T}=this.wNAF(p);x=F,S=T}return h.normalizeZ([x,S])[0]}multiplyAndAddUnsafe(p,y,P){const x=h.BASE,S=(T,N)=>N===ve||N===q||!T.equals(x)?T.multiplyUnsafe(N):T.multiply(N),F=S(this,y).add(S(p,P));return F.is0()?void 0:F}toAffine(p){return b(this,p)}isTorsionFree(){const{h:p,isTorsionFree:y}=t;if(p===q)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:p,clearCofactor:y}=t;return p===q?this:y?y(h,this):this.multiplyUnsafe(t.h)}toRawBytes(p=!0){return ht("isCompressed",p),this.assertValidity(),s(h,this,p)}toHex(p=!0){return ht("isCompressed",p),pt(this.toRawBytes(p))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:g}=t,B=Qf(h,w?Math.ceil(g/2):g);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:f}}function od(e){const t=Ci(e);return Yt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function id(e){const t=od(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,i=n.BYTES+1,a=2*n.BYTES+1;function c(A){return J(A,r)}function u(A){return Dn(A,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:b}=sd({...t,toBytes(A,E,k){const $=E.toAffine(),R=n.toBytes($.x),M=_t;return ht("isCompressed",k),k?M(Uint8Array.from([E.hasEvenY()?2:3]),R):M(Uint8Array.from([4]),R,n.toBytes($.y))},fromBytes(A){const E=A.length,k=A[0],$=A.subarray(1);if(E===i&&(k===2||k===3)){const R=Me($);if(!sr(R,q,n.ORDER))throw new Error("Point is not on curve");const M=l(R);let L;try{L=n.sqrt(M)}catch(K){const V=K instanceof Error?": "+K.message:"";throw new Error("Point is not on curve"+V)}const D=(L&q)===q;return(k&1)===1!==D&&(L=n.neg(L)),{x:R,y:L}}else if(E===a&&k===4){const R=n.fromBytes($.subarray(0,n.BYTES)),M=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:R,y:M}}else{const R=i,M=a;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+M+", got "+E)}}});function m(A){const E=r>>q;return A>E}function h(A){return m(A)?c(-A):A}const w=(A,E,k)=>Me(A.slice(E,k));class g{constructor(E,k,$){et("r",E,q,r),et("s",k,q,r),this.r=E,this.s=k,$!=null&&(this.recovery=$),Object.freeze(this)}static fromCompact(E){const k=s;return E=re("compactSignature",E,k*2),new g(w(E,0,k),w(E,k,2*k))}static fromDER(E){const{r:k,s:$}=we.toSig(re("DER",E));return new g(k,$)}assertValidity(){}addRecoveryBit(E){return new g(this.r,this.s,E)}recoverPublicKey(E){const{r:k,s:$,recovery:R}=this,M=x(re("msgHash",E));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const L=R===2||R===3?k+t.n:k;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(R&1)===0?"02":"03",oe=f.fromHex(D+wn(L,n.BYTES)),K=u(L),V=c(-M*K),Ve=c($*K),Se=f.BASE.multiplyAndAddUnsafe(oe,V,Ve);if(!Se)throw new Error("point at infinify");return Se.assertValidity(),Se}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return zt(this.toDERHex())}toDERHex(){return we.hexFromSig(this)}toCompactRawBytes(){return zt(this.toCompactHex())}toCompactHex(){const E=s;return wn(this.r,E)+wn(this.s,E)}}const B={isValidPrivateKey(A){try{return d(A),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const A=Ti(t.n);return Kf(t.randomBytes(A),t.n)},precompute(A=8,E=f.BASE){return E._setWindowSize(A),E.multiply(BigInt(3)),E}};function v(A,E=!0){return f.fromPrivateKey(A).toRawBytes(E)}function p(A){if(typeof A=="bigint")return!1;if(A instanceof f)return!0;const k=re("key",A).length,$=n.BYTES,R=$+1,M=2*$+1;if(!(t.allowedPrivateKeyLengths||s===R))return k===R||k===M}function y(A,E,k=!0){if(p(A)===!0)throw new Error("first arg must be private key");if(p(E)===!1)throw new Error("second arg must be public key");return f.fromHex(E).multiply(d(A)).toRawBytes(k)}const P=t.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const E=Me(A),k=A.length*8-o;return k>0?E>>BigInt(k):E},x=t.bits2int_modN||function(A){return c(P(A))},S=Wt(o);function F(A){return et("num < 2^"+o,A,ve,S),Pt(A,s)}function T(A,E,k=N){if(["recovered","canonical"].some(Ce=>Ce in k))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:R}=t;let{lowS:M,prehash:L,extraEntropy:D}=k;M==null&&(M=!0),A=re("msgHash",A),As(k),L&&(A=re("prehashed msgHash",$(A)));const oe=x(A),K=d(E),V=[F(K),F(oe)];if(D!=null&&D!==!1){const Ce=D===!0?R(n.BYTES):D;V.push(re("extraEntropy",Ce))}const Ve=_t(...V),Se=oe;function sn(Ce){const Ze=P(Ce);if(!b(Ze))return;const on=u(Ze),ct=f.BASE.multiply(Ze).toAffine(),Fe=c(ct.x);if(Fe===ve)return;const ut=c(on*c(Se+Fe*K));if(ut===ve)return;let We=(ct.x===Fe?0:2)|Number(ct.y&q),Nr=ut;return M&&m(ut)&&(Nr=h(ut),We^=1),new g(Fe,Nr,We)}return{seed:Ve,k2sig:sn}}const N={lowS:t.lowS,prehash:!1},O={lowS:t.lowS,prehash:!1};function C(A,E,k=N){const{seed:$,k2sig:R}=T(A,E,k),M=t;return t0(M.hash.outputLen,M.nByteLength,M.hmac)($,R)}f.BASE._setWindowSize(8);function j(A,E,k,$=O){const R=A;E=re("msgHash",E),k=re("publicKey",k);const{lowS:M,prehash:L,format:D}=$;if(As($),"strict"in $)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&D!=="compact"&&D!=="der")throw new Error("format must be compact or der");const oe=typeof R=="string"||Et(R),K=!oe&&!D&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!oe&&!K)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let V,Ve;try{if(K&&(V=new g(R.r,R.s)),oe){try{D!=="compact"&&(V=g.fromDER(R))}catch(We){if(!(We instanceof we.Err))throw We}!V&&D!=="der"&&(V=g.fromCompact(R))}Ve=f.fromHex(k)}catch{return!1}if(!V||M&&V.hasHighS())return!1;L&&(E=t.hash(E));const{r:Se,s:sn}=V,Ce=x(E),Ze=u(sn),on=c(Ce*Ze),ct=c(Se*Ze),Fe=f.BASE.multiplyAndAddUnsafe(Ve,on,ct)?.toAffine();return Fe?c(Fe.x)===Se:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:y,sign:C,verify:j,ProjectivePoint:f,Signature:g,utils:B}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ad(e){return{hash:e,hmac:(t,...n)=>ta(e,t,na(...n)),randomBytes:ea}}function cd(e,t){const n=r=>id({...e,...ad(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fi=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$s=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ud=BigInt(0),fd=BigInt(1),qn=BigInt(2),Is=(e,t)=>(e+t/qn)/t;function dd(e){const t=Fi,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=ne(f,n,t)*f%t,l=ne(d,n,t)*f%t,b=ne(l,qn,t)*u%t,m=ne(b,s,t)*b%t,h=ne(m,o,t)*m%t,w=ne(h,a,t)*h%t,g=ne(w,c,t)*w%t,B=ne(g,a,t)*h%t,v=ne(B,n,t)*f%t,p=ne(v,i,t)*m%t,y=ne(p,r,t)*u%t,P=ne(y,qn,t);if(!Hn.eql(Hn.sqr(P),e))throw new Error("Cannot find square root");return P}const Hn=Ar(Fi,void 0,void 0,{sqrt:dd}),Oi=cd({a:ud,b:BigInt(7),Fp:Hn,n:$s,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=$s,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-fd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Is(o*e,t),c=Is(-r*e,t);let u=J(e-a*n-c*s,t),f=J(-a*r-c*o,t);const d=u>i,l=f>i;if(d&&(u=t-u),l&&(f=t-f),u>i||f>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},ra),ld=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Oi},Symbol.toStringTag,{value:"Module"}));function zi(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new xn({signature:e});if(typeof e.s>"u")throw new xn({signature:e});if(n&&typeof e.yParity>"u")throw new xn({signature:e});if(e.r<0n||e.r>ws)throw new wd({value:e.r});if(e.s<0n||e.s>ws)throw new vd({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Ir({value:e.yParity})}function bd(e){return _i(fe(e))}function _i(e){if(e.length!==130&&e.length!==132)throw new gd({signature:e});const t=BigInt(pe(e,0,32)),n=BigInt(pe(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return $r(s)}catch{throw new Ir({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function hd(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return pd(e)}function pd(e){const t=typeof e=="string"?_i(e):e instanceof Uint8Array?bd(e):typeof e.r=="string"?yd(e):e.v?md(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return zi(t),t}function md(e){return{r:e.r,s:e.s,yParity:$r(e.v)}}function yd(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=$r(n)),typeof r!="number")throw new Ir({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function $r(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new xd({value:e})}class gd extends U{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${te($0(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class xn extends U{constructor({signature:t}){super(`Signature \`${Io(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class wd extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class vd extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Ir extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class xd extends U{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Ed(e,t={}){return typeof e.chainId=="string"?Pd(e):{...e,...t.signature}}function Pd(e){const{address:t,chainId:n,nonce:r}=e,s=hd(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Bd="0x8010801080108010801080108010801080108010801080108010801080108010",Ad=vi("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Mi(e){if(typeof e=="string"){if(pe(e,-32)!==Bd)throw new Sd(e)}else zi(e.authorization)}function $d(e){Mi(e);const t=Ro(pe(e,-64,-32)),n=pe(e,-t-64,-64),r=pe(e,0,-t-64),[s,o,i]=Mf(Ad,n);return{authorization:Ed({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...i&&i!=="0x"?{data:i,to:o}:{}}}function Id(e){try{return Mi(e),!0}catch{return!1}}let Sd=class extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Nd(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Td(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Pe(e.nonce):void 0,storageProof:e.storageProof?Nd(e.storageProof):void 0}}async function kd(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=n!==void 0?z(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return Td(a)}async function Rd(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?z(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Sr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){const i=r||"latest",a=n!==void 0?z(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,z(o)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||i,z(o)]},{dedupe:!!a}),!c)throw new ho({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||Xo)(c,"getTransaction")}async function Cd(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([_(e,St,"getBlockNumber")({}),t?_(e,Sr,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function Ct(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new po({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||di)(n,"getTransactionReceipt")}async function Fd(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return at({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),b=[[]];let m=0,h=0;for(let B=0;B<u.length;B++){const{abi:v,address:p,args:y,functionName:P}=u[B];try{const x=le({abi:v,args:y,functionName:P});h+=(x.length-2)/2,f>0&&h>f&&b[m].length>0&&(m++,h=(x.length-2)/2,b[m]=[]),b[m]=[...b[m],{allowFailure:!0,callData:x,target:p}]}catch(x){const S=st(x,{abi:v,address:p,args:y,docsPath:"/docs/contract/multicall",functionName:P,sender:n});if(!s)throw S;b[m]=[...b[m],{allowFailure:!0,callData:"0x",target:p}]}}const w=await Promise.allSettled(b.map(B=>_(e,de,"readContract")({...l===null?{code:ir}:{address:l},abi:Ft,account:n,args:[B],authorizationList:r,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),g=[];for(let B=0;B<w.length;B++){const v=w[B];if(v.status==="rejected"){if(!s)throw v.reason;for(let y=0;y<b[B].length;y++)g.push({status:"failure",error:v.reason,result:void 0});continue}const p=v.value;for(let y=0;y<p.length;y++){const{returnData:P,success:x}=p[y],{callData:S}=b[B][y],{abi:F,address:T,functionName:N,args:O}=u[g.length];try{if(S==="0x")throw new gt;if(!x)throw new Zt({data:P});const C=He({abi:F,args:O,data:P,functionName:N});g.push(s?{result:C,status:"success"}:C)}catch(C){const j=st(C,{abi:F,address:T,args:O,docsPath:"/docs/contract/multicall",functionName:N});if(!s)throw j;g.push({error:j,result:void 0,status:"failure"})}}}if(g.length!==u.length)throw new I("multicall results mismatch");return g}async function Vn(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{const c=[];for(const l of s){const b=l.blockOverrides?Oo(l.blockOverrides):void 0,m=l.calls.map(w=>{const g=w,B=g.account?me(g.account):void 0,v=g.abi?le(g):g.data,p={...g,data:g.dataSuffix?ce([v||"0x",g.dataSuffix]):v,from:g.from??B?.address};return At(p),Jt(p)}),h=l.stateOverrides?fr(l.stateOverrides):void 0;c.push({blockOverrides:b,calls:m,stateOverrides:h})}const f=(typeof n=="bigint"?z(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},f]})).map((l,b)=>({...Qo(l),calls:l.calls.map((m,h)=>{const{abi:w,args:g,functionName:B,to:v}=s[b].calls[h],p=m.error?.data??m.returnData,y=BigInt(m.gasUsed),P=m.logs?.map(T=>$e(T)),x=m.status==="0x1"?"success":"failure",S=w&&x==="success"&&p!=="0x"?He({abi:w,data:p,functionName:B}):null,F=(()=>{if(x==="success")return;let T;if(m.error?.data==="0x"?T=new gt:m.error&&(T=new Zt(m.error)),!!T)return st(T,{abi:w??[],address:v??"0x",args:g,functionName:B??"<unknown>"})})();return{data:p,gasUsed:y,logs:P,status:x,...x==="success"?{result:S}:{error:F}}})}))}catch(c){const u=c,f=cr(u,{});throw f instanceof jt?u:f}}function Zn(e){let t=!0,n="",r=0,s="",o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!o)throw new U("Unable to normalize signature.");return s}function Wn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Un(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Wn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Wn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ui(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ui(s.components,o.components,n[r]);const i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Un(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")?Un(n[r],{strict:!1}):!1)return i}}function Li(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Xr(e):e;return{...r,...n?{hash:Xe(r)}:{}}}function tn(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=I0(t,{strict:!1}),i=e.filter(u=>o?u.type==="function"||u.type==="error"?ji(u)===pe(t,0,4):u.type==="event"?Xe(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new Mt({name:t});if(i.length===1)return{...i[0],...s?{hash:Xe(i[0])}:{}};let a;for(const u of i){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Xe(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const b="inputs"in u&&u.inputs[l];return b?Wn(d,b):!1})){if(a&&"inputs"in a&&a.inputs){const d=Ui(u.inputs,a.inputs,r);if(d)throw new zd({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=i;return{...u,overloads:f}})();if(!c)throw new Mt({name:t});return{...c,...s?{hash:Xe(c)}:{}}}function ji(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return tn(n,r)}return e[0]})();return pe(Xe(t),0,4)}function Od(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return tn(r,s)}return e[0]})(),n=typeof t=="string"?t:Ot(t);return Zn(n)}function Xe(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return tn(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:yi(or(Od(t)))}class zd extends U{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Zn(Ot(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Zn(Ot(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Mt extends U{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function _d(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,i]=e;return[Ud(o),i]}return e})(),{bytecode:r,args:s}=n;return ue(r,t.inputs?.length&&s?.length?Pr(t.inputs,s):"0x")}function Md(e){return Li(e)}function Ud(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Mt({name:"constructor"});return t}function Ld(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[Ss(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?Ss([t,...r],t.name,{args:n}):t,o=jd(s),i=n.length>0?Pr(s.inputs,n):void 0;return i?ue(o,i):o}function Ye(e,t={}){return Li(e,t)}function Ss(e,t,n){const r=tn(e,t,n);if(r.type!=="function")throw new Mt({name:t,type:"function"});return r}function jd(e){return ji(e)}const Dd="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",be="0x0000000000000000000000000000000000000000",Gd="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function qd(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,u=t.account?me(t.account):void 0;if(i&&!u)throw new I("`account` is required when `traceAssetChanges` is true");const f=u?_d(Md("constructor(bytes, bytes)"),{bytecode:zo,args:[Gd,Ld(Ye("function getBalance(address)"),[u.address])]}):void 0,d=i?await Promise.all(t.calls.map(async $=>{if(!$.data&&!$.abi)return;const{accessList:R}=await Do(e,{account:u.address,...$,data:$.abi?le($):$.data});return R.map(({address:M,storageKeys:L})=>L.length>0?M:null)})).then($=>$.flat().filter(Boolean)):[],l=await Vn(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:f}],stateOverrides:o},{calls:d.map(($,R)=>({abi:[Ye("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:$,from:be,nonce:R})),stateOverrides:[{address:be,nonce:0}]}]:[],{calls:[...s,{}].map($=>({...$,from:u?.address})),stateOverrides:o},...i?[{calls:[{data:f}]},{calls:d.map(($,R)=>({abi:[Ye("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:$,from:be,nonce:R})),stateOverrides:[{address:be,nonce:0}]},{calls:d.map(($,R)=>({to:$,abi:[Ye("function decimals() returns (uint256)")],functionName:"decimals",from:be,nonce:R})),stateOverrides:[{address:be,nonce:0}]},{calls:d.map(($,R)=>({to:$,abi:[Ye("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:be,nonce:R})),stateOverrides:[{address:be,nonce:0}]},{calls:d.map(($,R)=>({to:$,abi:[Ye("function symbol() returns (string)")],functionName:"symbol",from:be,nonce:R})),stateOverrides:[{address:be,nonce:0}]}]:[]],traceTransfers:a,validation:c}),b=i?l[2]:l[0],[m,h,,w,g,B,v,p]=i?l:[],{calls:y,...P}=b,x=y.slice(0,-1)??[],S=m?.calls??[],F=h?.calls??[],T=[...S,...F].map($=>$.status==="success"?Be($.data):null),N=w?.calls??[],O=g?.calls??[],C=[...N,...O].map($=>$.status==="success"?Be($.data):null),j=(B?.calls??[]).map($=>$.status==="success"?$.result:null),A=(p?.calls??[]).map($=>$.status==="success"?$.result:null),E=(v?.calls??[]).map($=>$.status==="success"?$.result:null),k=[];for(const[$,R]of C.entries()){const M=T[$];if(typeof R!="bigint"||typeof M!="bigint")continue;const L=j[$-1],D=A[$-1],oe=E[$-1],K=$===0?{address:Dd,decimals:18,symbol:"ETH"}:{address:d[$-1],decimals:oe||L?Number(L??1):void 0,symbol:D??void 0};k.some(V=>V.token.address===K.address)||k.push({token:K,value:{pre:M,post:R,diff:R-M}})}return{assetChanges:k,block:P,results:x}}async function Hd(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:i,...a}=t,c=a.account?me(a.account):e.account,u=le({abi:n,args:s,functionName:i});try{const{data:f}=await _(e,$t,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...a,account:c}),d=He({abi:n,args:s,functionName:i,data:f||"0x"}),l=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:i,...a,account:c}}}catch(f){throw st(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}async function nn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const Di="0x6492649264926492649264926492649264926492649264926492649264926492";function Vd(e){if(pe(e,-32)!==Di)throw new Yd(e)}function Zd(e){const{data:t,signature:n,to:r}=e;return ue(Pr(vi("address, bytes, bytes"),[r,t,n]),Di)}function Wd(e){try{return Vd(e),!0}catch{return!1}}class Yd extends U{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Kd({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Oi.Signature(Be(e),Be(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?i:Te(i)}async function rn(e,t){const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,i=(()=>{const a=t.signature;return Ne(a)?a:typeof a=="object"&&"r"in a&&"s"in a?Kd(a):H(a)})();try{return Id(i)?await Jd(e,{...t,multicallAddress:o,signature:i}):await Xd(e,{...t,verifierAddress:s,signature:i})}catch(a){try{if(Nt(Fs(n),await Vo({hash:r,signature:i})))return!0}catch{}if(a instanceof Ge)return!1;throw a}}async function Jd(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:u,to:f}=$d(t.signature);if(await Mn(e,{address:n,blockNumber:r,blockTag:s})===ot(["0xef0100",a.address]))return await Qd(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:z(a.r,{size:32}),s:z(a.s,{size:32}),yParity:a.yParity};if(!await Hu({address:n,authorization:l}))throw new Ge;const m=await _(e,de,"readContract")({...i?{address:i}:{code:ir},authorizationList:[l],abi:Ft,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:le({abi:Ms,functionName:"isValidSignature",args:[o,u]})}]]});if(m[m.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Ge}async function Xd(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||Wd(i)?i:Zd({data:s,signature:i,to:r}))(),f=a?{to:a,data:le({abi:qr,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:ar({abi:qr,args:[n,o,u],bytecode:C0}),...c},{data:d}=await _(e,$t,"call")(f).catch(l=>{throw l instanceof mo?new Ge:l});if(sa(d??"0x0"))return!0;throw new Ge}async function Qd(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:i}=t;if((await _(e,de,"readContract")({address:n,abi:Ms,args:[o,i],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof yo?new Ge:c})).startsWith("0x1626ba7e"))return!0;throw new Ge}class Ge extends Error{}async function el(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...i}){const a=li(n);return rn(e,{address:t,factory:r,factoryData:s,hash:a,signature:o,...i})}async function tl(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...f}=t,d=cf({message:i,primaryType:a,types:c,domain:u});return rn(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}const En=new Map,Ns=new Map;let nl=0;function ke(e,t,n){const r=++nl,s=()=>En.get(e)||[],o=()=>{const f=s();En.set(e,f.filter(d=>d.id!==r))},i=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=Ns.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},a=s();if(En.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const f in t)c[f]=((...d)=>{const l=s();if(l.length!==0)for(const b of l)b.fns[f]?.(...d)});const u=n(c);return typeof u=="function"&&Ns.set(e,u),i}function Tt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await n?.(a)??r;await Rr(c);const u=async()=>{s&&(await e({unpoll:o}),await Rr(r),u())};u()})(),o}function Gi(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=se(["watchBlockNumber",e.uid,t,n,i]);return ke(d,{onBlockNumber:r,onError:s},l=>Tt(async()=>{try{const b=await _(e,St,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(b===c)return;if(b-c>1&&n)for(let m=c+1n;m<b;m++)l.onBlockNumber(m,c),c=m}(c===void 0||b>c)&&(l.onBlockNumber(b,c),c=b)}catch(b){l.onError?.(b)}},{emitOnBegin:t,interval:i}))})():(()=>{const d=se(["watchBlockNumber",e.uid,t,n]);return ke(d,{onBlockNumber:r,onError:s},l=>{let b=!0,m=()=>b=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(B=>B.config.type==="webSocket"||B.config.type==="ipc");return g?g.value:e.transport}return e.transport})(),{unsubscribe:w}=await h.subscribe({params:["newHeads"],onData(g){if(!b)return;const B=Be(g.result?.number);l.onBlockNumber(B,c),c=B},onError(g){l.onError?.(g)}});m=w,b||m()}catch(h){s?.(h)}})(),()=>m()})})()}async function rl(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:y})=>~~(1<<y)*200,timeout:c=18e4}=t,u=se(["waitForTransactionReceipt",e.uid,s]),f=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let d,l,b,m=!1,h,w;const{promise:g,resolve:B,reject:v}=oa(),p=c?setTimeout(()=>{w?.(),h?.(),v(new qc({hash:s}))},c):void 0;return h=ke(u,{onReplaced:o,resolve:B,reject:v},async y=>{if(b=await _(e,Ct,"getTransactionReceipt")({hash:s}).catch(()=>{}),b&&r<=1){clearTimeout(p),y.resolve(b),h?.();return}w=_(e,Gi,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(P){const x=F=>{clearTimeout(p),w?.(),F(),h?.()};let S=P;if(!m)try{if(b){if(r>1&&(!b.blockNumber||S-b.blockNumber+1n<r))return;x(()=>y.resolve(b));return}if(n&&!d&&(m=!0,await Cr(async()=>{d=await _(e,Sr,"getTransaction")({hash:s}),d.blockNumber&&(S=d.blockNumber)},{delay:a,retryCount:i}),m=!1),b=await _(e,Ct,"getTransactionReceipt")({hash:s}),r>1&&(!b.blockNumber||S-b.blockNumber+1n<r))return;x(()=>y.resolve(b))}catch(F){if(F instanceof ho||F instanceof po){if(!d){m=!1;return}try{l=d,m=!0;const T=await Cr(()=>_(e,he,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:C})=>C instanceof Ko});m=!1;const N=T.transactions.find(({from:C,nonce:j})=>C===l.from&&j===l.nonce);if(!N||(b=await _(e,Ct,"getTransactionReceipt")({hash:N.hash}),r>1&&(!b.blockNumber||S-b.blockNumber+1n<r)))return;let O="replaced";N.to===l.to&&N.value===l.value&&N.input===l.input?O="repriced":N.from===N.to&&N.value===0n&&(O="cancelled"),x(()=>{y.onReplaced?.({reason:O,replacedTransaction:l,transaction:N,transactionReceipt:b}),y.resolve(b)})}catch(T){x(()=>y.reject(T))}}else x(()=>y.reject(F))}}})}),g}function sl(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=i??!1;let d;return u?(()=>{const m=se(["watchBlocks",e.uid,t,n,r,f,c]);return ke(m,{onBlock:s,onError:o},h=>Tt(async()=>{try{const w=await _(e,he,"getBlock")({blockTag:t,includeTransactions:f});if(w.number!==null&&d?.number!=null){if(w.number===d.number)return;if(w.number-d.number>1&&n)for(let g=d?.number+1n;g<w.number;g++){const B=await _(e,he,"getBlock")({blockNumber:g,includeTransactions:f});h.onBlock(B,d),d=B}}(d?.number==null||t==="pending"&&w?.number==null||w.number!==null&&w.number>d.number)&&(h.onBlock(w,d),d=w)}catch(w){h.onError?.(w)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,h=!0,w=()=>m=!1;return(async()=>{try{r&&_(e,he,"getBlock")({blockTag:t,includeTransactions:f}).then(v=>{m&&h&&(s(v,void 0),h=!1)}).catch(o);const g=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(p=>p.config.type==="webSocket"||p.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:B}=await g.subscribe({params:["newHeads"],async onData(v){if(!m)return;const p=await _(e,he,"getBlock")({blockNumber:v.result?.number,includeTransactions:f}).catch(()=>{});m&&(s(p,d),h=!1,d=p)},onError(v){o?.(v)}});w=B,m||w()}catch(g){o?.(g)}})(),()=>w()})()}function ol(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const w=l??!1,g=se(["watchContractEvent",r,s,o,e.uid,i,d,w,a]);return ke(g,{onLogs:u,onError:c},B=>{let v;a!==void 0&&(v=a-1n);let p,y=!1;const P=Tt(async()=>{if(!y){try{p=await _(e,Go,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:w,fromBlock:a})}catch{}y=!0;return}try{let x;if(p)x=await _(e,Qt,"getFilterChanges")({filter:p});else{const S=await _(e,St,"getBlockNumber")({});v&&v<S?x=await _(e,ci,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:v+1n,toBlock:S,strict:w}):x=[],v=S}if(x.length===0)return;if(o)B.onLogs(x);else for(const S of x)B.onLogs([S])}catch(x){p&&x instanceof zs&&(y=!1),B.onError?.(x)}},{emitOnBegin:!0,interval:d});return async()=>{p&&await _(e,nn,"uninstallFilter")({filter:p}),P()}})})():(()=>{const w=l??!1,g=se(["watchContractEvent",r,s,o,e.uid,i,d,w]);let B=!0,v=()=>B=!1;return ke(g,{onLogs:u,onError:c},p=>((async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(F=>F.config.type==="webSocket"||F.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),P=i?It({abi:n,eventName:i,args:s}):[],{unsubscribe:x}=await y.subscribe({params:["logs",{address:r,topics:P}],onData(S){if(!B)return;const F=S.result;try{const{eventName:T,args:N}=yr({abi:n,data:F.data,topics:F.topics,strict:l}),O=$e(F,{args:N,eventName:T});p.onLogs([O])}catch(T){let N,O;if(T instanceof lt||T instanceof Gt){if(l)return;N=T.abiItem.name,O=T.abiItem.inputs?.some(j=>!("name"in j&&j.name))}const C=$e(F,{args:O?[]:{},eventName:N});p.onLogs([C])}},onError(S){p.onError?.(S)}});v=x,B||v()}catch(y){c?.(y)}})(),()=>v()))})()}function il(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),b=d??!1;return l?(()=>{const w=se(["watchEvent",t,n,r,e.uid,s,f,i]);return ke(w,{onLogs:c,onError:a},g=>{let B;i!==void 0&&(B=i-1n);let v,p=!1;const y=Tt(async()=>{if(!p){try{v=await _(e,qo,"createEventFilter")({address:t,args:n,event:s,events:o,strict:b,fromBlock:i})}catch{}p=!0;return}try{let P;if(v)P=await _(e,Qt,"getFilterChanges")({filter:v});else{const x=await _(e,St,"getBlockNumber")({});B&&B!==x?P=await _(e,wr,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:B+1n,toBlock:x}):P=[],B=x}if(P.length===0)return;if(r)g.onLogs(P);else for(const x of P)g.onLogs([x])}catch(P){v&&P instanceof zs&&(p=!1),g.onError?.(P)}},{emitOnBegin:!0,interval:f});return async()=>{v&&await _(e,nn,"uninstallFilter")({filter:v}),y()}})})():(()=>{let w=!0,g=()=>w=!1;return(async()=>{try{const B=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),v=o??(s?[s]:void 0);let p=[];v&&(p=[v.flatMap(x=>It({abi:[x],eventName:x.name,args:n}))],s&&(p=p[0]));const{unsubscribe:y}=await B.subscribe({params:["logs",{address:t,topics:p}],onData(P){if(!w)return;const x=P.result;try{const{eventName:S,args:F}=yr({abi:v??[],data:x.data,topics:x.topics,strict:b}),T=$e(x,{args:F,eventName:S});c([T])}catch(S){let F,T;if(S instanceof lt||S instanceof Gt){if(d)return;F=S.abiItem.name,T=S.abiItem.inputs?.some(O=>!("name"in O&&O.name))}const N=$e(x,{args:T?[]:{},eventName:F});c([N])}},onError(P){a?.(P)}});g=y,w||g()}catch(B){a?.(B)}})(),()=>g()})()}function al(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=se(["watchPendingTransactions",e.uid,t,o]);return ke(u,{onTransactions:r,onError:n},f=>{let d;const l=Tt(async()=>{try{if(!d)try{d=await _(e,Ho,"createPendingTransactionFilter")({});return}catch(m){throw l(),m}const b=await _(e,Qt,"getFilterChanges")({filter:d});if(b.length===0)return;if(t)f.onTransactions(b);else for(const m of b)f.onTransactions([m])}catch(b){f.onError?.(b)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await _(e,nn,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const b=l.result;r([b])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}async function cl(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function ul(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,z(r)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||di)(s);if(i.status==="reverted"&&n)throw new Gc({receipt:i});return i}function fl(e){const{scheme:t,statement:n,...r}=e.match(dl)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=e.match(ll)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const dl=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,ll=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function bl(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!ie(r.address,{strict:!1})||t&&!Nt(r.address,t))return!1}catch{return!1}return!0}async function hl(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=t,f=fl(s);if(!f.address||!bl({address:n,domain:r,message:f,nonce:o,scheme:i,time:c}))return!1;const l=li(s);return rn(e,{address:f.address,hash:l,signature:a,...u})}function pl(e){return{call:t=>$t(e,t),createAccessList:t=>Do(e,t),createBlockFilter:()=>su(e),createContractEventFilter:t=>Go(e,t),createEventFilter:t=>qo(e,t),createPendingTransactionFilter:()=>Ho(e),estimateContractGas:t=>Su(e,t),estimateGas:t=>mr(e,t),getBalance:t=>Nu(e,t),getBlobBaseFee:()=>Tu(e),getBlock:t=>he(e,t),getBlockNumber:t=>St(e,t),getBlockTransactionCount:t=>zu(e,t),getBytecode:t=>Mn(e,t),getChainId:()=>ii(e),getCode:t=>Mn(e,t),getContractEvents:t=>ci(e,t),getEip712Domain:t=>Lu(e,t),getEnsAddress:t=>D0(e,t),getEnsAvatar:t=>tu(e,t),getEnsName:t=>nu(e,t),getEnsResolver:t=>ru(e,t),getEnsText:t=>jo(e,t),getFeeHistory:t=>Gu(e,t),estimateFeesPerGas:t=>gu(e,t),getFilterChanges:t=>Qt(e,t),getFilterLogs:t=>qu(e,t),getGasPrice:()=>hr(e),getLogs:t=>wr(e,t),getProof:t=>kd(e,t),estimateMaxPriorityFeePerGas:t=>yu(e,t),getStorageAt:t=>Rd(e,t),getTransaction:t=>Sr(e,t),getTransactionConfirmations:t=>Cd(e,t),getTransactionCount:t=>ti(e,t),getTransactionReceipt:t=>Ct(e,t),multicall:t=>Fd(e,t),prepareTransactionRequest:t=>ai(e,t),readContract:t=>de(e,t),sendRawTransaction:t=>cl(e,t),sendRawTransactionSync:t=>ul(e,t),simulate:t=>Vn(e,t),simulateBlocks:t=>Vn(e,t),simulateCalls:t=>qd(e,t),simulateContract:t=>Hd(e,t),verifyHash:t=>rn(e,t),verifyMessage:t=>el(e,t),verifySiweMessage:t=>hl(e,t),verifyTypedData:t=>tl(e,t),uninstallFilter:t=>nn(e,t),waitForTransactionReceipt:t=>rl(e,t),watchBlocks:t=>sl(e,t),watchBlockNumber:t=>Gi(e,t),watchContractEvent:t=>ol(e,t),watchEvent:t=>il(e,t),watchPendingTransactions:t=>al(e,t)}}function Il(e){const{key:t="public",name:n="Public Client"}=e;return ia({...e,key:t,name:n,type:"publicClient"}).extend(pl)}export{ua as AbiConstructorNotFoundError,Hr as AbiConstructorParamsNotFoundError,Us as AbiDecodingDataSizeTooSmallError,gt as AbiDecodingZeroDataError,fa as AbiEncodingArrayLengthMismatchError,da as AbiEncodingBytesSizeMismatchError,la as AbiEncodingLengthMismatchError,ba as AbiErrorInputsNotFoundError,Vr as AbiErrorNotFoundError,Ls as AbiErrorSignatureNotFoundError,Zr as AbiEventNotFoundError,ha as AbiEventSignatureEmptyTopicsError,js as AbiEventSignatureNotFoundError,nt as AbiFunctionNotFoundError,Ds as AbiFunctionOutputsNotFoundError,pa as AbiFunctionSignatureNotFoundError,Mc as AccountStateConflictError,Tl as AtomicReadyWalletRejectedUpgradeError,kl as AtomicityNotSupportedError,I as BaseError,hu as BaseFeeScalarError,Ko as BlockNotFoundError,Rl as BundleTooLargeError,ya as BytesSizeMismatchError,mo as CallExecutionError,Cl as ChainDisconnectedError,Cn as ChainDoesNotSupportContract,gc as CircularReferenceError,uo as ClientChainNotConfiguredError,yo as ContractFunctionExecutionError,Fn as ContractFunctionRevertedError,Hc as ContractFunctionZeroDataError,Vc as CounterfactualDeploymentFailedError,lt as DecodeLogDataMismatch,Gt as DecodeLogTopicsMismatch,Fl as DuplicateIdError,br as Eip1559FeesNotSupportedError,ft as EnsAvatarInvalidNftUriError,q0 as EnsAvatarUnsupportedNamespaceError,dr as EnsAvatarUriResolutionError,lu as EstimateGasExecutionError,kt as ExecutionRevertedError,An as FeeCapTooHighError,Fr as FeeCapTooLowError,jc as FeeConflictError,ou as FilterTypeNotSupportedError,kr as HttpRequestError,Mr as InsufficientFundsError,Vi as IntegerOutOfRangeError,Wi as InternalRpcError,Ur as IntrinsicGasTooHighError,Lr as IntrinsicGasTooLowError,wa as InvalidAbiDecodingTypeError,ga as InvalidAbiEncodingTypeError,ac as InvalidAbiItemError,fc as InvalidAbiParametersError,pc as InvalidAbiTypeParameterError,Ue as InvalidAddressError,Gs as InvalidArrayError,qi as InvalidBytesBooleanError,va as InvalidDefinitionTypeError,tf as InvalidDomainError,hc as InvalidFunctionModifierError,Ol as InvalidHexBooleanError,zs as InvalidInputRpcError,bc as InvalidModifierError,dc as InvalidParameterError,zl as InvalidParamsRpcError,wc as InvalidParenthesisError,nf as InvalidPrimaryTypeError,_l as InvalidRequestRpcError,Dc as InvalidSerializableTransactionError,it as InvalidSignatureError,yc as InvalidStructSignatureError,rf as InvalidStructTypeError,Ml as JsonRpcVersionUnsupportedError,Ul as LimitExceededRpcError,pu as MaxFeePerGasTooLowError,Ll as MethodNotFoundRpcError,jl as MethodNotSupportedRpcError,_r as NonceMaxValueError,Or as NonceTooHighError,zr as NonceTooLowError,Dl as ParseRpcError,Gl as ProviderDisconnectedError,ql as ProviderRpcError,Zt as RawContractError,Hl as ResourceNotFoundRpcError,Vl as ResourceUnavailableRpcError,Zl as RpcError,Yi as RpcRequestError,Wl as SizeExceedsPaddingSizeError,Yl as SizeOverflowError,Ts as SliceOffsetOutOfBoundsError,lc as SolidityProtectedKeywordError,Uc as StateAssignmentConflictError,Kl as SwitchChainError,Jl as TimeoutError,$n as TipAboveFeeCapError,ho as TransactionNotFoundError,po as TransactionReceiptNotFoundError,Xl as TransactionRejectedRpcError,jr as TransactionTypeNotSupportedError,Ql as UnauthorizedProviderError,e1 as UnknownBundleIdError,jt as UnknownNodeError,t1 as UnknownRpcError,mc as UnknownSignatureError,cc as UnknownTypeError,n1 as UnsupportedChainIdError,r1 as UnsupportedNonOptionalCapabilityError,s1 as UnsupportedProviderMethodError,o1 as UrlRequiredError,i1 as UserRejectedRequestError,qc as WaitForTransactionReceiptTimeoutError,At as assertRequest,ni as blobsToCommitments,ri as blobsToProofs,a1 as boolToBytes,Hi as boolToHex,Ba as bytesToBigInt,Aa as bytesToBool,H as bytesToHex,xe as bytesToNumber,$a as bytesToString,fi as ccipFetch,fi as ccipRequest,ks as checksumAddress,vu as commitmentToVersionedHash,xu as commitmentsToVersionedHashes,ce as concat,Ia as concatBytes,ot as concatHex,ia as createClient,Il as createPublicClient,c1 as createTransport,wt as decodeAbiParameters,lo as decodeErrorResult,yr as decodeEventLog,Zc as decodeFunctionData,He as decodeFunctionResult,Al as defineChain,zo as deploylessCallViaBytecodeBytecode,R0 as deploylessCallViaFactoryBytecode,Re as encodeAbiParameters,ar as encodeDeployData,ns as encodeErrorResult,It as encodeEventTopics,le as encodeFunctionData,Wc as encodeFunctionResult,g1 as erc20Abi,qr as erc6492SignatureValidatorAbi,C0 as erc6492SignatureValidatorByteCode,Dd as ethAddress,u1 as etherUnits,w1 as fallback,Qo as formatBlock,Rs as formatEther,_e as formatGwei,$e as formatLog,Xo as formatTransaction,di as formatTransactionReceipt,Jt as formatTransactionRequest,f1 as formatUnits,qe as getAbiItem,Fs as getAddress,at as getChainContractAddress,st as getContractError,Ht as getEventSelector,Fc as getEventSignature,vt as getFunctionSelector,Fc as getFunctionSignature,$u as getTransactionType,of as getTypesForEIP712Domain,d1 as gweiUnits,uf as hashDomain,li as hashMessage,bi as hashStruct,cf as hashTypedData,Be as hexToBigInt,sa as hexToBool,Te as hexToBytes,Pe as hexToNumber,l1 as http,ie as isAddress,Nt as isAddressEqual,Ne as isHex,Z as keccak256,Jc as labelhash,_0 as maxUint256,Ft as multicall3Abi,On as namehash,b1 as numberToBytes,z as numberToHex,Ku as offchainLookup,ui as offchainLookupAbiItem,Yu as offchainLookupSignature,h1 as pad,p1 as padBytes,ze as padHex,io as parseAbi,Xr as parseAbiItem,Qr as parseAbiParameters,gr as parseEventLogs,Oc as prepareEncodeFunctionData,Qu as presignMessagePrefix,pl as publicActions,Vo as recoverAddress,au as recoverPublicKey,F0 as rpcTransactionType,Kd as serializeSignature,wu as sha256,v1 as shouldThrow,Kd as signatureToHex,G as size,rt as slice,Zs as sliceBytes,Pa as sliceHex,dt as stringToBytes,Pn as stringToHex,se as stringify,Au as toBlobSidecars,Bu as toBlobs,yt as toBytes,ao as toEventHash,Ht as toEventSelector,Fc as toEventSignature,ao as toFunctionHash,vt as toFunctionSelector,Fc as toFunctionSignature,Le as toHex,ef as toPrefixedMessage,cu as toRlp,Jo as transactionType,Lt as trim,qr as universalSignatureValidatorAbi,C0 as universalSignatureValidatorByteCode,sf as validateTypedData,Fu as withCache,Cr as withRetry,m1 as withTimeout,be as zeroAddress};
